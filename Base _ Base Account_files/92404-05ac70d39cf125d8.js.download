"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[92404],{11118:(e,t,n)=>{n.d(t,{O1:()=>d,b_:()=>c});var a=n(12115),r=n(50573),i=n(95155);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}let l={},u=(0,a.createContext)(l);function c(){let e=(0,a.useContext)(u);if(e===l)throw Error("useNFTContext must be used within an NFTView or NFTMint component");return e}function d({children:e,contractAddress:t,tokenId:n,isSponsored:l,useNFTData:c,buildMintTransaction:d}){var p;let m=function(e){if(Array.isArray(e))return e}(p=(0,a.useState)(1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,s,o=[],l=!0,u=!1;try{i=(n=n.call(e)).next,!1;for(;!(l=(a=i.call(n)).done)&&(o.push(a.value),o.length!==t);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw r}}return o}}(p,2)||function(e,t){if(e){if("string"==typeof e)return o(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(p,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),y=m[0],f=m[1],b=c(t,n),v=(0,a.useCallback)(e=>{f(Number.parseInt(e,10))},[]),h=(0,r.h)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){var a,r,i;a=e,r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(r))in a?Object.defineProperty(a,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({contractAddress:t,tokenId:n,isSponsored:l,quantity:y,setQuantity:v,buildMintTransaction:d},b));return(0,i.jsx)(u.Provider,{value:h,children:e})}},12435:(e,t,n)=>{n.d(t,{H:()=>i});var a=n(24675),r=n(95155);let i=(0,r.jsxs)("svg",{"data-testid":"ock-infoSvg",role:"img","aria-label":"ock-infoSvg",width:"100%",height:"100%",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("title",{children:"Info"}),(0,r.jsx)("path",{d:"M5 10C7.7625 10 10 7.7625 10 5C10 2.2375 7.7625 0 5 0C2.2375 0 0 2.2375 0 5C0 7.7625 2.2375 10 5 10ZM4.58333 2.08333H5.41667V2.91667H4.58333V2.08333ZM4.58333 3.75H5.41667V7.91667H4.58333V3.75Z",className:a.Kk.foreground})]})},17543:(e,t,n)=>{n.d(t,{RW:()=>W,LZ:()=>H});var a=n(5620),r=n(71002),i=n(24675),s=n(66066),o=n(52999),l=n(95908),u=n(12115),c=n(88848),d=n(3063),p=n(73018),m=n(43415),y=n(73780),f=n(83904),b=n(55712),v=n(87360),h=n(45026),g=n(28444),x=n(50573),w=n(24449),T=n(8927),S=n(33760),j=n(75712),A=n(30598),N=n(20411),k=n(4486),C=n(7640);let M=async({address:e,config:t})=>{let n=await (0,C.J)(t,{abi:k.xw,address:j.XP,functionName:j.GL.BALANCE_OF,args:[e]});return(0,A.J)(n,6)};n(85422);var E=n(33162),I=n(62501);let O=async({address:e,chargeHandler:t,productId:n})=>{let a={address:e};t?a.chargeId=await t():n&&(a.productId=n);let r=await (0,I.n)(a,E.bb.Checkout);if("error"in r)throw Error(r.error);return r};function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}let P=({chargeHandler:e,productId:t})=>{let n=(0,N.useConfig)();return(0,u.useCallback)(async a=>{try{let r=await Promise.all([O({address:a,chargeHandler:e,productId:t}),M({address:a,config:n})]),i=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,s,o=[],l=!0,u=!1;try{i=(n=n.call(e)).next,!1;for(;!(l=(a=i.call(n)).done)&&(o.push(a.value),o.length!==t);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw r}}return o}}(e,2)||function(e,t){if(e){if("string"==typeof e)return D(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(e,t):void 0}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(r,2),s=i[0],o=i[1],l=s.id,u=function({transaction:e}){let t=e.callData,n=e.metaData;return[{address:t.recipientCurrency,abi:k.xw,functionName:j.GL.APPROVE,args:[n.contractAddress,BigInt(t.recipientAmount)+BigInt(t.feeAmount)]},{address:n.contractAddress,abi:j.rW,functionName:j.GL.TRANSFER_TOKEN_PRE_APPROVED,args:[{id:t.id,recipientAmount:BigInt(t.recipientAmount),deadline:BigInt(Math.floor(new Date(t.deadline).getTime()/1e3)),recipient:t.recipient,recipientCurrency:t.recipientCurrency,refundDestination:t.refundDestination,feeAmount:BigInt(t.feeAmount),operator:t.operator,signature:t.signature,prefix:t.prefix}]}]}({transaction:s}),c=(0,A.J)(BigInt(s.callData.feeAmount)+BigInt(s.callData.recipientAmount),6),d=Number.parseFloat(o)<Number.parseFloat(c);return{chargeId:l,contracts:u,insufficientBalance:d,priceInUSDC:c}}catch(e){return console.error("Unexpected error fetching contracts:",e),{chargeId:"",contracts:null,insufficientBalance:!1,error:e}}},[n,e,t])};var R=n(95155);function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,s,o=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(a=i.call(n)).done)&&(o.push(a.value),o.length!==t);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw r}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return U(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?U(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}let _={},B=(0,u.createContext)(_);function L({chargeHandler:e,children:t,isSponsored:n,onStatus:a,productId:r}){let i=(0,T.E)().config,A=void 0===i?{appearance:{name:void 0,logo:void 0},paymaster:void 0}:i,N=A.appearance,k=A.paymaster,C=(0,d.useAccount)(),M=C.address,E=C.chainId,I=C.isConnected,O=(0,p.useConnect)().connectAsync,D=(0,m.useSwitchChain)().switchChainAsync,U=F((0,u.useState)(""),2),_=U[0],L=U[1],W=F((0,u.useState)(""),2),q=W[0],Q=W[1],H=F((0,u.useState)(""),2),$=H[0],V=H[1],G=(0,S.I)(),Z=(0,h.s)().sendAnalytics,z=(0,u.useRef)(!1),X=(0,u.useRef)(!1),K=(0,u.useRef)(!1),J=(0,u.useRef)(),Y=(0,u.useRef)(!1),ee=(0,u.useRef)(""),et=F((0,s.U)({statusName:j.iO.INIT,statusData:{}}),2),en=et[0],ea=et[1],er=P({chargeHandler:e,productId:r}),ei=(0,u.useCallback)(async e=>{ea({statusName:j.iO.FETCHING_DATA,statusData:{}});let t=await er(e),n=t.contracts,a=t.chargeId,r=t.insufficientBalance,i=t.priceInUSDC,s=t.error;if(s){V(j.h1),ea({statusName:j.iO.ERROR,statusData:{code:j.mu.UNEXPECTED_ERROR,error:s.name,message:s.message}});return}L(a),J.current=n,Y.current=r,ee.current=i,ea({statusName:j.iO.READY,statusData:{chargeId:_,contracts:J.current||[]}})},[_,er,ea]),es=(0,b.o)({mutation:{onSuccess:e=>{Q(e)}}}),eo=es.status,el=es.writeContractsAsync,eu=(0,v.d)({id:q,query:{refetchInterval:e=>e.state.data?.status!=="CONFIRMED"&&1e3,enabled:!!q}}).data,ec=eu?.receipts?.[0]?.transactionHash,ed=(0,y.useWaitForTransactionReceipt)({hash:ec}).data;(0,u.useEffect)(()=>{a?.(en)},[en,en.statusData,en.statusName,a]),(0,u.useEffect)(()=>{"pending"===eo&&ea({statusName:j.iO.PENDING,statusData:{}})},[eo,ea]),(0,u.useEffect)(()=>{ed&&ea({statusName:j.iO.SUCCESS,statusData:{transactionReceipts:[ed],chargeId:_,receiptUrl:`https://commerce.coinbase.com/pay/${_}/receipt`}})},[_,ed,ea]),(0,u.useEffect)(()=>{en.statusName===j.iO.INIT&&M&&!X.current&&(z.current=!0,ei(M))},[M,ei,en]);let ep=(0,u.useCallback)((e,t)=>{Z(e,t)},[Z]),em=(0,u.useCallback)(async()=>{try{if(ep(g.XS.CheckoutInitiated,{address:M,amount:Number(ee.current),productId:r||""}),en.statusName===j.iO.SUCCESS)return void window.open(`https://commerce.coinbase.com/pay/${_}/receipt`,"_blank","noopener,noreferrer");$===j.ox&&V("");let e=M,t=E;if(!I||!G){X.current=!0;let n=await O({connector:(0,f.m)({appName:N?.name??void 0,appLogoUrl:N?.logo??void 0,preference:"smartWalletOnly"})}),a=n.accounts,r=n.chainId;e=a[0],t=r}if(!e){V(j.h1),ea({statusName:j.iO.ERROR,statusData:{code:j.mu.UNEXPECTED_ERROR,error:j.uU,message:j.uU}});return}if(z.current||K.current||await ei(e),t!==c.E.id&&await D({chainId:c.E.id}),Y.current&&ee.current){let e=(0,o.Y)("md"),t=e.height,n=e.width;(0,l.P)({url:`https://keys.coinbase.com/fund?asset=USDC&chainId=8453&presetCryptoAmount=${ee.current}`,target:"_blank",height:t,width:n}),Y.current=!1,ee.current=void 0,z.current=!1;return}if(!J.current||0===J.current.length){V(j.h1),ea({statusName:j.iO.ERROR,statusData:{code:j.mu.UNEXPECTED_ERROR,error:j.ze,message:j.ze}});return}await el({contracts:J.current,capabilities:n?{paymasterService:{url:k}}:void 0})}catch(a){ep(g.XS.CheckoutFailure,{error:a instanceof Error?a.message:"Checkout failed",metadata:{error:JSON.stringify(a)}});let e=a.message?.includes("User denied connection request")||(0,w.H)(a),t=e?j.mu.USER_REJECTED_ERROR:j.mu.UNEXPECTED_ERROR,n=e?j.ox:j.h1;e&&(K.current=!0),V(n),ea({statusName:j.iO.ERROR,statusData:{code:t,error:JSON.stringify(a),message:n}})}},[M,N,E,_,O,$,ei,I,G,n,en.statusName,k,D,ea,el,ep,r]),ey=(0,x.h)({errorMessage:$,lifecycleStatus:en,onSubmit:em,updateLifecycleStatus:ea});return(0,R.jsx)(B.Provider,{value:ey,children:t})}function W(e){let{chargeHandler:t,children:n,className:s,isSponsored:o,onStatus:l,productId:u}=e,c=(0,a.a)(),d=(0,r.D)();return c?(0,R.jsx)(L,{chargeHandler:t,isSponsored:o,onStatus:l,productId:u,children:(0,R.jsx)("div",{className:(0,i.cn)(d,"flex w-full flex-col gap-2",s),children:n})}):null}var q=n(63598),Q=n(20570);function H(e){let{className:t,coinbaseBranded:n,disabled:a,icon:r,text:s="Pay"}=e;n&&(r="coinbasePay",s="Pay");let o=function(){let e=(0,u.useContext)(B);if(e===_)throw Error("useCheckoutContext must be used within a Checkout component");return e}(),l=o.lifecycleStatus,c=o.onSubmit,d=(0,Q.b)({icon:r}),p=(0,h.s)().sendAnalytics,m=(null==l?void 0:l.statusName)===j.iO.PENDING,y=(null==l?void 0:l.statusName)===j.iO.FETCHING_DATA,f=a||m||y,b=(0,u.useMemo)(()=>(null==l?void 0:l.statusName)===j.iO.SUCCESS?"View payment details":s,[null==l?void 0:l.statusName,s]),v=b===s&&d;return(0,u.useEffect)(()=>{if((null==l?void 0:l.statusName)===j.iO.SUCCESS&&l.statusData){var e;let t=l.statusData,n=t.transactionReceipts,a=t.chargeId,r=null==n||null==(e=n[0])?void 0:e.transactionHash;r&&a&&p(g.XS.CheckoutSuccess,{chargeHandlerId:a,transactionHash:r})}},[l,p]),(0,R.jsx)("button",{className:(0,i.cn)(n?i.wD.coinbaseBranding:i.wD.primary,i.PQ.radius,f&&i.wD.disabled,i.Qq.headline,"mt-4 w-full px-4 py-3",t),onClick:c,type:"button",disabled:f,children:(0,R.jsx)("div",{className:"flex items-center justify-center whitespace-nowrap",children:m?(0,R.jsx)(q.y,{className:"h-5 w-5"}):(0,R.jsxs)(R.Fragment,{children:[v&&(0,R.jsx)("div",{className:"mr-2 flex h-5 w-5 shrink-0 items-center justify-center",children:d}),(0,R.jsx)("span",{className:(0,i.cn)(i.Qq.headline,n?"text-gray-50":i.yW.inverse),children:b})]})})})}},20461:(e,t,n)=>{n.d(t,{useReadContracts:()=>d});var a=n(13657),r=n(96440),i=n(14491),s=n(36280),o=n(12115),l=n(75575),u=n(60681),c=n(20411);function d(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{contracts:n=[],query:d={}}=t,p=(0,c.useConfig)(t),m=(0,u.useChainId)({config:p}),y=function(e,t={}){return{async queryFn({queryKey:n}){let a=[],r=n[1].contracts.length;for(let e=0;e<r;e++){let r=n[1].contracts[e],i=(t.contracts?.[e]).abi;a.push({...r,abi:i})}let{scopeKey:s,...o}=n[1];return(0,i.I)(e,{...o,contracts:a})},queryKey:function(e={}){let t=[];for(let n of e.contracts??[]){let{abi:a,...r}=n;t.push({...r,chainId:r.chainId??e.chainId})}return["readContracts",(0,s.xO)({...e,contracts:t})]}(t)}}(p,(0,r._)((0,a._)({},t),{chainId:m})),f=(0,o.useMemo)(()=>{var e;let t=!1;for(let e of n){let{abi:n,address:a,functionName:r}=e;if(!n||!a||!r){t=!1;break}t=!0}return!!(t&&(null==(e=d.enabled)||e))},[n,d.enabled]);return(0,l.IT)((0,r._)((0,a._)({},y,d),{enabled:f,structuralSharing:null!=(e=d.structuralSharing)?e:s.I_}))}},20562:(e,t,n)=>{var a=n(88848),r=n(95155);let i=(0,r.jsxs)("svg",{"data-testid":"ock-baseSvg",role:"img","aria-label":"base",width:"100%",height:"100%",viewBox:"0 0 146 146",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("circle",{cx:"73",cy:"73",r:"73",fill:"#0052FF"}),(0,r.jsx)("path",{d:"M73.323 123.729C101.617 123.729 124.553 100.832 124.553 72.5875C124.553 44.343 101.617 21.4463 73.323 21.4463C46.4795 21.4463 24.4581 42.0558 22.271 68.2887H89.9859V76.8864H22.271C24.4581 103.119 46.4795 123.729 73.323 123.729Z",fill:"white"})]});n(24675),a.E},30421:(e,t,n)=>{n.d(t,{f:()=>d}),n(48673);var a=n(11118),r=n(24675),i=n(8927),s=n(95155),o=n(5990),l=n(90822),u=n(34909),c=n(14943);function d({className:e}){let t=(0,i.E)().schemaId,n=(0,a.b_)().creatorAddress;return n?(0,s.jsx)("div",{className:(0,r.cn)("-my-1 flex justify-between",e),children:(0,s.jsxs)(o.Identity,{className:"px-0 py-0 [&>div]:space-x-2",address:n,schemaId:t,children:[(0,s.jsx)(l.Avatar,{className:"h-4 w-4"}),(0,s.jsx)(u.Name,{children:(0,s.jsx)(c.Badge,{})})]})}):null}},36796:(e,t,n)=>{n.d(t,{jb:()=>O});var a=n(5620),r=n(71002),i=n(41069),s=n(11118);n(85696);var o=n(33162);function l(e){return e?!function(e){try{let t=new URL(e);return"ipfs:"===t.protocol}catch{return!1}}(e)?e:e.replace("ipfs://","https://ipfs.io/ipfs/"):void 0}var u=n(12115),c=n(3063),d=n(8221),p=n(53455);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function b(e,t){var n;let a=(0,i.Fx)().updateLifecycleStatus,r=function(e){if(Array.isArray(e))return e}(n=(0,u.useState)(null))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,s,o=[],l=!0,u=!1;try{i=(n=n.call(e)).next,!1;for(;!(l=(a=i.call(n)).done)&&(o.push(a.value),o.length!==t);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw r}}return o}}(n,2)||function(e,t){if(e){if("string"==typeof e)return f(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),s=r[0],b=r[1],v=(0,c.useAccount)().address;(0,u.useEffect)(()=>{s&&a({statusName:"error",statusData:s})},[s,a]);let h=function(e,t=o.bb.Hook){let n=e.contractAddress,a=e.takerAddress,r=e.tokenId,i=e.queryOptions;return(0,p.useQuery)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){var a,r,i;a=e,r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(r))in a?Object.defineProperty(a,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({queryKey:["useMintDetails",n,a,r],queryFn:async()=>{let e=await (0,d.r)({contractAddress:n,takerAddress:a,tokenId:r},t);if(null!==e&&"object"==typeof e&&"error"in e)throw e;return e},retry:!1,refetchOnWindowFocus:!1},i))}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach(function(t){var a,r,i;a=e,r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(r))in a?Object.defineProperty(a,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({contractAddress:e,takerAddress:v},t?{tokenId:t}:{}),o.bb.NFT),g=h.error,x=h.data;return g&&!s?(b({code:"NmMD01",message:g.message,error:"Error fetching mint data"}),g):{name:x?.name,description:x?.description,imageUrl:l(x?.imageUrl),animationUrl:l(x?.animationUrl),mimeType:x?.mimeType,contractType:x?.contractType,maxMintsPerWallet:x?.maxMintsPerWallet===0?void 0:x?.maxMintsPerWallet,price:x?.price,mintFee:x?.mintFee,isEligibleToMint:x?.isEligibleToMint,creatorAddress:x?.creatorAddress,totalOwners:x?.totalOwners,network:x?.network}}var v=n(65876),h=n(36655);async function g({mintAddress:e,tokenId:t,network:n,quantity:a,takerAddress:r}){let i=await (0,h.f)({mintAddress:e,tokenId:t,network:n,quantity:a,takerAddress:r},o.bb.NFT);if("error"in i)throw i.message;return[{to:i.call_data.to,data:i.call_data.data,value:BigInt(i.call_data.value)}]}function x({contractAddress:e,takerAddress:t,tokenId:n,quantity:a,network:r}){return g({mintAddress:e,takerAddress:t,tokenId:n,quantity:a,network:r})}var w=n(24675),T=n(95155);class S extends u.Component{constructor(...e){super(...e),this.state={error:null}}static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e,t){console.error("Uncaught error:",e,t)}render(){if(this.state.error){if(this.props.fallback){let e=this.props.fallback;return(0,T.jsx)(e,{error:this.state.error})}return(0,T.jsx)("h1",{children:"Sorry, we had an unhandled error"})}return this.props.children}}function j({error:e}){let t=(0,r.D)();return(0,T.jsxs)("div",{className:(0,w.cn)(t,w.yW.foreground,w.Tp.default,w.PQ.defaultActive,w.PQ.radius,"flex w-full max-w-[500px] flex-col items-center justify-center border px-6 py-4"),"data-testid":"ockNFTErrorFallback_Container",children:[(0,T.jsx)("div",{children:"Sorry, please try again later."}),(0,T.jsx)("div",{children:e.message})]})}n(76606);var A=n(30421),N=n(72008),k=n(92191),C=n(43758),M=n(93587),E=n(58223);function I(){return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(A.f,{}),(0,T.jsx)(N.V,{}),(0,T.jsx)(k.H,{}),(0,T.jsx)(C.T,{}),(0,T.jsx)(M.u,{}),(0,T.jsx)(E.x,{})]})}function O(e){let{children:t=(0,T.jsx)(I,{}),className:n,contractAddress:o,tokenId:l,isSponsored:u,useNFTData:c=b,buildMintTransaction:d=x,onStatus:p,onError:m,onSuccess:y}=e,f=(0,r.D)();return(0,a.a)()?(0,T.jsx)(S,{fallback:j,children:(0,T.jsx)(i.Sm,{type:v.d.MINT,onStatus:p,onError:m,onSuccess:y,children:(0,T.jsx)(s.O1,{contractAddress:o,tokenId:l,isSponsored:u,useNFTData:c,buildMintTransaction:d,children:(0,T.jsx)("div",{className:(0,w.cn)(f,w.yW.foreground,w.Tp.default,w.PQ.defaultActive,w.PQ.radius,"flex w-full max-w-[500px] flex-col gap-2 border p-4",n),"data-testid":"ockNFTMintCard_Container",children:t})})})}):null}n(17860);n(53012),n(54937),n(55349),n(20562)},41069:(e,t,n)=>{n.d(t,{Fx:()=>c,Sm:()=>d});var a=n(66066),r=n(50573),i=n(12115),s=n(95155);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}let l={},u=(0,i.createContext)(l);function c(){let e=(0,i.useContext)(u);if(e===l)throw Error("useNFTLifecycleContext must be used within an NFTView or NFTMint component");return e}function d({type:e,onStatus:t,onError:n,onSuccess:l,children:c}){var d;let p=function(e){if(Array.isArray(e))return e}(d=(0,a.U)({statusName:"init",statusData:null}))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,s,o=[],l=!0,u=!1;try{i=(n=n.call(e)).next,!1;for(;!(l=(a=i.call(n)).done)&&(o.push(a.value),o.length!==t);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw r}}return o}}(d,2)||function(e,t){if(e){if("string"==typeof e)return o(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(d,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),m=p[0],y=p[1];(0,i.useEffect)(()=>{"error"===m.statusName&&n?.(m.statusData),"success"===m.statusName&&l?.(m.statusData?.transactionReceipts?.[0]),t?.(m)},[n,t,l,m,m.statusData,m.statusName]);let f=(0,r.h)({lifecycleStatus:m,type:e,updateLifecycleStatus:y});return(0,s.jsx)(u.Provider,{value:f,children:c})}},43325:(e,t,n)=>{n.d(t,{z:()=>ew});var a=n(97601),r=n(71002),i=n(24675),s=n(50883),o=n(12115),l=n(32384),u=n(31384),c=n(78039);n(513);var d=n(33162),p=n(66066),m=n(88848),y=n(3063),f=n(43415),b=n(20411),v=n(81284),h=n(19911),g=n(31910),x=n(45026),w=n(28444),T=n(28943),S=n(50573),j=n(81689),A=n(90639),N=n(65768),k=n(58820),C=n(24449),M=n(8927),E=n(67460),I=n(36141);function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,s,o=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(a=i.call(n)).done)&&(o.push(a.value),o.length!==t);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw r}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return D(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}let P=(e,t,n)=>{let a=O((0,o.useState)(""),2),r=a[0],i=a[1],s=O((0,o.useState)(""),2),l=s[0],u=s[1],c=O((0,o.useState)(!1),2),d=c[0],p=c[1],m=(0,E.g)({address:n,fromToken:t,toToken:e}),y=m.fromBalanceString,f=m.fromTokenBalanceError,b=m.fromTokenResponse;return(0,S.h)({balance:y,balanceResponse:b,amount:r,setAmount:i,amountUSD:l,setAmountUSD:u,token:t,loading:d,setLoading:p,error:f})};function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,s,o=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(a=i.call(n)).done)&&(o.push(a.value),o.length!==t);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw r}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return F(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?F(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}let U=(e,t,n)=>{let a=P(e,I.T9,n),r=P(e,I.N_,n),i=P(e,t,n),s=R((0,o.useState)(""),2),l=s[0],u=s[1],c=R((0,o.useState)(""),2),d=c[0],p=c[1],m=R((0,o.useState)(!1),2),y=m[0],f=m[1],b=e?.symbol==="ETH"?I.N_:I.T9,v=(0,E.g)({address:n,fromToken:b,toToken:e}),h=v.toBalanceString,g=v.toTokenBalanceError,x=v.toTokenResponse,w=(0,S.h)({balance:h,balanceResponse:x,amount:l,setAmount:u,amountUSD:d,setAmountUSD:p,token:e,loading:y,setLoading:f,error:g});return{fromETH:a,fromUSDC:r,from:i,to:w}};var _=n(53063);let B=({updateLifecycleStatus:e,maxSlippage:t,lifecycleStatus:n})=>{let a=(0,o.useCallback)(a=>{"transition_view"===a.eventName&&n?.statusName!=="transactionPending"&&e({statusName:"transactionPending",statusData:{isMissingRequiredField:!1,maxSlippage:t}})},[t,e,n?.statusName]),r=(0,o.useCallback)(()=>{e({statusName:"success",statusData:{isMissingRequiredField:!1,transactionReceipt:{},maxSlippage:t}})},[t,e]),i=(0,o.useCallback)(()=>{e({statusName:"init",statusData:{isMissingRequiredField:!1,maxSlippage:t}})},[e,t]);return(0,o.useEffect)(()=>{let e=(0,_.q)({onEvent:a,onSuccess:r});return()=>{e()}},[a,r]),{onPopupClose:i}};var L=n(41101);let W=({fromETH:e,fromUSDC:t,from:n,to:a})=>(0,o.useCallback)(async()=>{await Promise.all([n?.balanceResponse?.refetch(),n?.setAmount(""),n?.setAmountUSD(""),e.balanceResponse?.refetch(),e.setAmount(""),e.setAmountUSD(""),t.balanceResponse?.refetch(),t.setAmount(""),t.setAmountUSD(""),a.balanceResponse?.refetch(),a.setAmount(""),a.setAmountUSD("")])},[n,e,t,a]);var q=n(97314),Q=n(24650);async function H({amount:e,from:t,maxSlippage:n,to:a,useAggregator:r,fromSwapUnit:i}){let s,o;if(!t)return{response:void 0,formattedFromAmount:"",error:void 0};a?.symbol!==t?.symbol&&(s=await (0,q.i)({amount:e,amountReference:"from",from:a,maxSlippage:n,to:t,useAggregator:r},d.bb.Buy));let l="";return s&&!(0,A._)(s)&&(l=s?.toAmount?(0,Q.N)(s.toAmount,s.to.decimals):"",i?.setAmountUSD(s?.toAmountUSD||""),i?.setAmount(l||"")),(0,A._)(s)&&(o=s,s=void 0),{response:s,formattedFromAmount:l,error:o}}var $=n(95155);function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,s,o=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(a=i.call(n)).done)&&(o.push(a.value),o.length!==t);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw r}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return G(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?G(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}let Z={},z=(0,o.createContext)(Z);function X(){let e=(0,o.useContext)(z);if(e===Z)throw Error("useBuyContext must be used within a Buy component");return e}function K(e){let{children:t,config:n={maxSlippage:s.AF},disabled:a,experimental:r,isSponsored:i,onError:l,onStatus:u,onSuccess:c,toToken:E,fromToken:I}=e,O=(0,M.E)(),D=O.config,P=(void 0===D?{paymaster:void 0}:D).paymaster,R=O.projectId,F=(0,y.useAccount)(),_=F.address,q=F.chainId,Q=(0,f.useSwitchChain)().switchChainAsync,G=r.useAggregator,Z=(0,b.useConfig)(),X=V((0,o.useState)(!1),2),K=X[0],J=X[1],Y=(0,T.J)({chainId:m.E.id}),ee=V((0,p.U)({statusName:"init",statusData:{isMissingRequiredField:!0,maxSlippage:n.maxSlippage}}),2),et=ee[0],en=ee[1],ea=V((0,o.useState)(""),2),er=ea[0],ei=ea[1],es=V((0,o.useState)(!1),2),eo=es[0],el=es[1],eu=U(E,I,_),ec=eu.from,ed=eu.fromETH,ep=eu.fromUSDC,em=eu.to,ey=(0,v.useSendTransaction)().sendTransactionAsync,ef=(0,h.x)().sendCallsAsync,eb=W({fromETH:ed,fromUSDC:ep,from:ec,to:em}),ev=(0,j.b)({accountConfig:Z,lifecycleStatus:et,updateLifecycleStatus:en}),eh=B({updateLifecycleStatus:en,maxSlippage:n.maxSlippage,lifecycleStatus:et}).onPopupClose,eg=(0,L.G)(eh).startPopupMonitor,ex=(0,x.s)().sendAnalytics;(0,o.useEffect)(()=>{if("error"===et.statusName&&(null==l||l(et.statusData)),"success"===et.statusName){var e,t,n;null==c||c(null==et?void 0:et.statusData.transactionReceipt);let a=null==(e=et.statusData.transactionReceipt)?void 0:e.transactionHash;ei(a),el(!0),ex(w.f5.BuySuccess,{address:_,amount:Number(null==ec?void 0:ec.amount),from:null==ec||null==(t=ec.token)?void 0:t.address,paymaster:!!P,to:null==em||null==(n=em.token)?void 0:n.address,transactionHash:a})}null==u||u(et)},[l,u,c,et,et.statusData,et.statusName,ec,em,_,P,ex]),(0,o.useEffect)(()=>{},[R]),(0,o.useEffect)(()=>{"init"===et.statusName&&eo&&(el(!1),eb())},[eo,et.statusName,eb]),(0,o.useEffect)(()=>{"transactionApproved"===et.statusName&&"Batched"===et.statusData.transactionType&&ev()},[ev,et,et.statusData,et.statusName]),(0,o.useEffect)(()=>{let e;return"success"===et.statusName&&eo&&(e=setTimeout(()=>{en({statusName:"init",statusData:{isMissingRequiredField:!0,maxSlippage:n.maxSlippage}})},3e3)),()=>{if(e)return clearTimeout(e)}},[n.maxSlippage,eo,et.statusName,en]);let ew=(0,o.useCallback)(async e=>{if(void 0===em.token||void 0===ed.token||void 0===ep.token)return void en({statusName:"amountChange",statusData:{amountETH:ed.amount,amountUSDC:ep.amount,amountTo:em.amount,tokenTo:em.token,isMissingRequiredField:!0}});if(""===e||"."===e||0===Number.parseFloat(e)){em.setAmount(""),em.setAmountUSD(""),ed.setAmountUSD(""),ep.setAmountUSD(""),null==ec||ec.setAmountUSD("");return}ed.setLoading(!0),ep.setLoading(!0),null==ec||ec.setLoading(!0),en({statusName:"amountChange",statusData:{amountTo:e,amountETH:"",amountUSDC:"",amountFrom:"",tokenFromETH:ed.token,tokenFromUSDC:ep.token,tokenFrom:null==ec?void 0:ec.token,tokenTo:em.token,isMissingRequiredField:!0}});try{let t=et.statusData.maxSlippage,n=await H({amount:e,from:ed.token,maxSlippage:String(t),to:em.token,useAggregator:G,fromSwapUnit:ed}),a=n.response,r=n.formattedFromAmount,i=await H({amount:e,from:ep.token,maxSlippage:String(t),to:em.token,useAggregator:G,fromSwapUnit:ep}),s=i.response,o=i.formattedFromAmount,l=await H({amount:e,from:null==ec?void 0:ec.token,maxSlippage:String(t),to:em.token,useAggregator:G,fromSwapUnit:ec}),u=l.response,c=l.formattedFromAmount;if(!function({to:e,responseETH:t,responseUSDC:n,responseFrom:a,updateLifecycleStatus:r}){if(!(0,A._)(t)&&t?.toAmountUSD)e.setAmountUSD(t?.toAmountUSD);else if(!(0,A._)(n)&&n?.toAmountUSD)e.setAmountUSD(n.toAmountUSD);else{if(!(!(0,A._)(a)&&a?.toAmountUSD))return r({statusName:"error",statusData:{code:"TmBPc01",error:"No valid quote found",message:""}}),{isValid:!1};e.setAmountUSD(a.toAmountUSD)}return{isValid:!0}}({to:em,responseETH:a,responseUSDC:s,responseFrom:u,updateLifecycleStatus:en}).isValid)return;en({statusName:"amountChange",statusData:{amountETH:r,amountUSDC:o,amountFrom:c||"",amountTo:e,tokenFromETH:ed.token,tokenFromUSDC:ep.token,tokenFrom:null==ec?void 0:ec.token,tokenTo:em.token,isMissingRequiredField:!r}})}catch(t){ex(w.f5.BuyFailure,{error:t instanceof Error?t.message:String(t),metadata:{amount:e}}),en({statusName:"error",statusData:{code:"TmBPc02",error:JSON.stringify(t),message:""}})}finally{ed.setLoading(!1),ep.setLoading(!1),null==ec||ec.setLoading(!1)}},[em,ec,ed,ep,G,en,et.statusData.maxSlippage,ex]),eT=(0,o.useCallback)(async e=>{if(_&&e.token&&em.token&&e.amount)try{ex(w.f5.BuyInitiated,{amount:Number(e.amount),token:e.token.symbol});let t=et.statusData.maxSlippage,n=await (0,g.W)({amount:e.amount,fromAddress:_,from:e.token,maxSlippage:String(t),to:em.token,useAggregator:G},d.bb.Buy);if((0,A._)(n))return void en({statusName:"error",statusData:{code:n.code,error:n.error,message:n.message}});await (0,N.L)({chainId:q,config:Z,isSponsored:i,paymaster:P||"",sendCallsAsync:ef,sendTransactionAsync:ey,swapTransaction:n,switchChainAsync:Q,updateLifecycleStatus:en,useAggregator:G,walletCapabilities:Y})}catch(n){ex(w.f5.BuyFailure,{error:n instanceof Error?n.message:String(n),metadata:{token:e.token.symbol,amount:e.amount}});let t=(0,C.H)(n)?"Request denied.":k.h1;en({statusName:"error",statusData:{code:"TmBPc03",error:JSON.stringify(n),message:t}})}},[Z,_,q,i,et,P,ef,ey,Q,em.token,en,G,Y,ex]),eS=(0,S.h)({address:_,config:n,disabled:a,from:ec,fromETH:ed,fromUSDC:ep,handleAmountChange:ew,handleSubmit:eT,lifecycleStatus:et,updateLifecycleStatus:en,to:em,setTransactionHash:ei,transactionHash:er,isDropdownOpen:K,setIsDropdownOpen:J,toToken:E,fromToken:I,startPopupMonitor:eg});return(0,$.jsx)(z.Provider,{value:eS,children:t})}var J=n(1768);function Y(){let e=X(),t=e.to,n=e.handleAmountChange;return(null==t?void 0:t.token)?(0,$.jsxs)("div",{className:(0,i.cn)("flex h-12 items-center border px-2 pl-4",i.Tp.default,i.PQ.radius,i.PQ.lineDefault),children:[(0,$.jsx)(l.k,{className:(0,i.cn)("mr-2 w-full border-none font-display","leading-none outline-none disabled:cursor-not-allowed",i.Tp.default,i.yW.foreground),placeholder:"0.0",delayMs:1e3,inputMode:"decimal",value:(0,c.e)(t.amount),setValue:t.setAmount,disabled:t.loading,onChange:n,inputValidator:u.d}),(0,$.jsx)(J.M,{className:(0,i.cn)(i.yW.foreground,"rounded-md"),token:t.token,isPressable:!1})]}):null}var ee=n(63598);let et=(0,$.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"ock-checkmarkSvg",children:[(0,$.jsx)("title",{children:"Checkmark SVG"}),(0,$.jsx)("path",{d:"M12.5 0C5.87 0 0.5 5.37 0.5 12C0.5 18.63 5.87 24 12.5 24C19.13 24 24.5 18.63 24.5 12C24.5 5.37 19.13 0 12.5 0ZM10.59 17.3L6.1 12.81L7.51 11.4L10.59 14.48L17.66 7.41L19.07 8.82L10.59 17.3Z",fill:"#F9FAFB"})]});var en=n(74597);n(55967);var ea=n(41872);function er(){let e=X(),t=e.address,n=e.disabled,a=e.setIsDropdownOpen,r=e.isDropdownOpen,s=e.from,l=e.fromETH,u=e.fromUSDC,c=e.to,d=e.lifecycleStatus.statusName,p=e.updateLifecycleStatus,m=(null==c?void 0:c.loading)||(null==s?void 0:s.loading)||(null==l?void 0:l.loading)||(null==u?void 0:u.loading)||"transactionPending"===d||"transactionApproved"===d,y=!(null==c?void 0:c.amount)||!(null==c?void 0:c.token),f=m||n,b=(0,o.useCallback)(()=>y?void p({statusName:"error",statusData:{code:"TmBPc05",error:"Missing required fields",message:"Complete the field to continue"}}):r?void a(!1):void(!r&&a(!0)),[y,a,r,p]),v=(0,o.useMemo)(()=>"success"===d?et:r?(0,$.jsx)(en.X,{className:i.Kk.inverse}):"Buy",[d,r]);return f||t?(0,$.jsx)("button",{type:"button",className:(0,i.cn)(i.Tp.primary,i.PQ.radius,"flex rounded-xl","h-12 w-24 items-center justify-center px-4 py-3",f&&i.wD.disabled,i.Qq.headline),onClick:b,"data-testid":"ockBuyButton_Button",disabled:f,children:m?(0,$.jsx)(ee.y,{}):(0,$.jsx)("span",{className:(0,i.cn)(i.Qq.headline,i.yW.inverse),children:v})}):(0,$.jsx)(ea.U,{text:"Buy",className:"h-12 w-24 min-w-24"})}var ei=n(95908),es=n(79383),eo=n(96032),el=n(38291);let eu=[{id:"CRYPTO_ACCOUNT",name:"Coinbase",description:"Buy with your Coinbase account",icon:"coinbasePay"},{id:"APPLE_PAY",name:"Apple Pay",description:"Up to $500/week",icon:"applePay"},{id:"CARD",name:"Debit Card",description:"Up to $500/week",icon:"creditCard"}];var ec=n(51679),ed=n(47689);let ep=(0,$.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","data-testid":"cardSvg",children:[(0,$.jsx)("title",{children:"Debit Card Onramp"}),(0,$.jsx)("rect",{x:"2",y:"4",width:"20",height:"16",rx:"2"}),(0,$.jsx)("path",{d:"M7 15h0M2 9.5h20"})]});var em=n(3482);let ey={applePay:ed.T,coinbasePay:em.C,creditCard:ep};function ef(e){let{name:t,description:n,onClick:a,icon:r,to:s}=e,l=X().setIsDropdownOpen,u=(0,o.useCallback)(()=>{l(!1),a()},[a,l]),c=(0,o.useMemo)(()=>{var e,t;return(null==s||null==(t=s.token)||null==(e=t.address)?void 0:e.toLowerCase())===(null===I.N_||void 0===I.N_?void 0:I.N_.address.toLowerCase())?null==s?void 0:s.amount:null==s?void 0:s.amountUSD},[s]),d=!c||5>Number.parseFloat(c)&&"Coinbase"!==t,p=(0,o.useMemo)(()=>d?"Minimum purchase amount is $5":n,[d,n]);return(0,$.jsxs)("button",{className:(0,i.cn)("flex items-center gap-2 rounded-lg p-2",i.Qq.label2,!d&&i.wD.default,d&&i.yW.foregroundMuted),onClick:u,type:"button","data-testid":"ock-".concat(r,"OnrampItem"),disabled:d,children:[(0,$.jsx)("div",{className:"flex h-9 w-9 items-center justify-center",children:ey[r]}),(0,$.jsxs)("div",{className:"flex flex-col items-start",children:[(0,$.jsx)("div",{className:"relative flex items-center gap-1",children:(0,$.jsx)("div",{children:t})}),(0,$.jsx)("div",{className:(0,i.cn)("text-xs",i.yW.foregroundMuted),children:p})]})]})}var eb=n(46416);function ev(e){let{swapUnit:t}=e,n=X(),a=n.handleSubmit,r=n.setIsDropdownOpen;if(!t||!t.token)return null;let s=(0,o.useCallback)(()=>{r(!1),a(t)},[a,t,r]),l=!t.balance||Number.parseFloat(t.balance)<Number.parseFloat(t.amount),u=(0,o.useMemo)(()=>t.amount?(0,el.g)(t.amount,10):"",[t.amount]),c=(0,o.useMemo)(()=>(0,el.g)(t.balance||"0",3),[t.balance]);return(0,$.jsxs)("button",{className:(0,i.cn)("flex items-center gap-2 rounded-lg p-2",!l&&i.wD.default,i.Qq.label2),onClick:s,type:"button",disabled:l,children:[(0,$.jsx)(eb.H,{token:t.token,size:36}),(0,$.jsxs)("div",{className:(0,i.cn)("flex flex-col items-start",l?i.yW.foregroundMuted:i.yW.foreground),children:[(0,$.jsxs)("div",{children:[u," ",t.token.name]}),(0,$.jsx)("div",{className:(0,i.cn)("text-xs",l?i.yW.error:i.yW.foregroundMuted),children:"".concat(l?"Insufficient balance":"Balance",": ").concat(c)})]})]})}function eh(){var e,t,n,a,r,s,l;let u=(0,M.E)().projectId,c=X(),d=c.to,p=c.fromETH,m=c.fromUSDC,f=c.from,b=c.startPopupMonitor,v=c.setIsDropdownOpen,h=(0,y.useAccount)().address,g=(0,x.s)().sendAnalytics,T=(0,o.useCallback)(e=>()=>{var t;g(w.f5.BuyOptionSelected,{option:e});let n=null==d||null==(t=d.token)?void 0:t.symbol,a=null==d?void 0:d.amount;(null==a?void 0:a[0])==="."&&(a="0".concat(a));let r="".concat(es.PX,"/one-click?appId=").concat(u,'&addresses={"').concat(h,'":["base"]}&assets=["').concat(n,'"]&presetCryptoAmount=').concat(a,"&defaultPaymentMethod=").concat(e),i=(0,eo.N)("md",r),s=i.height,o=i.width,l=(0,ei.P)({url:r,height:s,width:o,target:"_blank"});l&&b(l)},[h,d,u,b,g]),S=(0,o.useMemo)(()=>{if(!(null==d?void 0:d.amountUSD)||(null==d?void 0:d.amountUSD)==="0")return null;let e=Number((0,el.g)(null==d?void 0:d.amountUSD,2));return"$".concat(e.toFixed(2))},[null==d?void 0:d.amountUSD]),j=(null==d||null==(e=d.token)?void 0:e.symbol)==="ETH",A=(null==d||null==(t=d.token)?void 0:t.symbol)==="USDC",N=(null==d||null==(n=d.token)?void 0:n.symbol)!==(null==f||null==(a=f.token)?void 0:a.symbol)&&f&&(null==f||null==(r=f.token)?void 0:r.symbol)!=="ETH"&&(null==f||null==(s=f.token)?void 0:s.symbol)!=="USDC";(0,o.useEffect)(()=>{let e=e=>{"Escape"===e.key&&v(!1)};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[v]);let k=(0,ec.d)();return(0,$.jsxs)("div",{className:(0,i.cn)(i.yW.foreground,i.Tp.default,"absolute right-0 bottom-0 flex translate-y-[102%] flex-col gap-2","z-10 min-w-80 rounded border p-2",i.PQ.radius),children:[(0,$.jsx)("div",{className:(0,i.cn)(i.Qq.headline,"px-2 pt-2"),children:"Buy with"}),!j&&(0,$.jsx)(ev,{swapUnit:p}),!A&&(0,$.jsx)(ev,{swapUnit:m}),N&&(0,$.jsx)(ev,{swapUnit:f}),eu.map(e=>"APPLE_PAY"!==e.id||k?(0,$.jsx)(ef,{name:e.name,description:e.description,onClick:T(e.id),icon:e.icon,to:d},e.id):null),!!S&&(0,$.jsx)("div",{className:(0,i.cn)("flex justify-end",i.Qq.legal,i.yW.foregroundMuted),children:"".concat(null==d?void 0:d.amount," ").concat(null==d||null==(l=d.token)?void 0:l.name," ≈ ").concat(S)})]})}function eg(){let e=X().lifecycleStatus;if((0,A._)(e.statusData)){var t;let n=e.statusData.message||"Something went wrong. Please try again.",a=(null==e||null==(t=e.statusData)?void 0:t.code)==="TmBPc05"?i.yW.foregroundMuted:i.yW.error;return(0,$.jsx)("div",{className:(0,i.cn)(a,i.Qq.label2),children:n})}return null}function ex(e){let{className:t}=e,n=(0,r.D)(),s=X(),l=s.isDropdownOpen,u=s.setIsDropdownOpen,c=(0,o.useRef)(null);return(0,a.j)(c,()=>{l&&u(!1)}),(0,$.jsxs)("div",{ref:c,className:(0,i.cn)("relative flex flex-col gap-2",n,t),children:[(0,$.jsxs)("div",{className:(0,i.cn)("flex items-center gap-4"),children:[(0,$.jsx)(Y,{}),(0,$.jsx)(er,{}),l&&(0,$.jsx)(eh,{})]}),(0,$.jsx)(eg,{})]})}function ew(e){let{config:t={maxSlippage:s.AF},className:n,disabled:a=!1,experimental:r={useAggregator:!1},isSponsored:i=!1,onError:o,onStatus:l,onSuccess:u,toToken:c,fromToken:d}=e;return(0,$.jsx)(K,{config:t,disabled:a,experimental:r,isSponsored:i,onError:o,onStatus:l,onSuccess:u,toToken:c,fromToken:d,children:(0,$.jsx)(ex,{className:n})})}},43758:(e,t,n)=>{n.d(t,{T:()=>d});var a=n(12115),r=n(32384),i=n(24675),s=n(95155);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function l({className:e,disabled:t,minQuantity:n=1,maxQuantity:l=Number.MAX_SAFE_INTEGER,onChange:u,placeholder:c}){var d;let p=function(e){if(Array.isArray(e))return e}(d=(0,a.useState)(`${n}`))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,s,o=[],l=!0,u=!1;try{i=(n=n.call(e)).next,!1;for(;!(l=(a=i.call(n)).done)&&(o.push(a.value),o.length!==t);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw r}}return o}}(d,2)||function(e,t){if(e){if("string"==typeof e)return o(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(d,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),m=p[0],y=p[1],f=(0,a.useCallback)(e=>!(Number.parseInt(e,10)<n||Number.parseInt(e,10)>l)&&/^[0-9]*$/.test(e),[l,n]),b=(0,a.useCallback)(()=>{let e=`${Math.min(l,Number.parseInt(m,10)+1)}`;y(e),u(e)},[u,l,m]),v=(0,a.useCallback)(()=>{let e=`${Math.max(n,Number.parseInt(m,10)-1)}`;y(e),u(e)},[u,n,m]),h=(0,a.useCallback)(e=>{""!==e&&u(e)},[u]),g=(0,a.useCallback)(()=>{""===m&&(y(n.toString()),u(n.toString()))},[u,n,m]),x=(0,i.cn)("h-11 w-11 rounded-lg border",i.PQ.defaultActive,i.yW.foreground,i.Tp.default,t&&i.wD.disabled);return(0,s.jsxs)("div",{className:(0,i.cn)("relative flex items-center gap-1",e),"data-testid":"ockQuantitySelector",children:[(0,s.jsx)("div",{children:(0,s.jsx)("button",{"aria-label":"decrement",className:(0,i.cn)(x,i.wD.default),"data-testid":"ockQuantitySelector_decrement",disabled:t,onClick:v,type:"button",children:"-"})}),(0,s.jsx)(r.k,{"aria-label":"quantity",className:(0,i.cn)(x,"w-full text-center hover:bg-[var(--ock-bg-default-hover)] focus:bg-transparent"),delayMs:200,disabled:t,inputValidator:f,onBlur:g,onChange:h,placeholder:c,setValue:y,value:m}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{"aria-label":"increment",className:(0,i.cn)(x,i.wD.default),"data-testid":"ockQuantitySelector_increment",disabled:t,onClick:b,type:"button",children:"+"})})]})}var u=n(11118),c=n(65719);function d({className:e}){let t=(0,u.b_)(),n=t.maxMintsPerWallet,a=t.setQuantity,r=(0,c.I)().handleQuantityChange;return 1===n?null:(0,s.jsx)("div",{className:(0,i.cn)("py-1",e),children:(0,s.jsx)(l,{className:e,onChange:e=>{a(e);let t=Number.parseInt(e,10);Number.isNaN(t)||r(t)},minQuantity:1,maxQuantity:n,placeholder:""})})}},51760:(e,t,n)=>{n.d(t,{ZX:()=>a.Z});var a=n(8248);n(44208),n(95155),n(95342),n(94302),n(46363),n(54837),n(79211),n(23026),n(13522),n(1464)},53012:(e,t,n)=>{n(11118),n(24675),n(95155)},53903:(e,t,n)=>{n.d(t,{X2:()=>eA});var a=n(50573),r=n(24675),i=n(12115),s=n(95155);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}let l=(0,i.createContext)(void 0);function u(e){var t;let{children:n,defaultValue:r}=e,u=function(e){if(Array.isArray(e))return e}(t=(0,i.useState)(r))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,s,o=[],l=!0,u=!1;try{i=(n=n.call(e)).next,!1;for(;!(l=(a=i.call(n)).done)&&(o.push(a.value),o.length!==t);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw r}}return o}}(t,2)||function(e,t){if(e){if("string"==typeof e)return o(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=u[0],d=u[1],p=(0,a.h)({selectedTab:c,setSelectedTab:d});return(0,s.jsx)(l.Provider,{value:p,children:n})}function c(){let e=(0,i.useContext)(l);if(!e)throw Error("useTabsContext must be used within an TabsProvider");return e}function d(e){let{children:t,defaultValue:n,className:a}=e;return(0,s.jsx)(u,{defaultValue:n,children:(0,s.jsx)("div",{"data-testid":"ockTabs",className:(0,r.cn)("flex flex-col",a),children:t})})}function p({value:e,children:t,className:n,"aria-label":a,onClick:o}){let l=c(),u=l.selectedTab,d=l.setSelectedTab,p=u===e,m=(0,i.useCallback)(()=>{d(e),o?.()},[e,d,o]);return(0,s.jsx)("button",{className:(0,r.cn)(r.Qq.headline,p?r.yW.inverse:r.yW.foreground,p?r.Tp.primary:r.Tp.default,"w-1/2 text-center","cursor-pointer px-3 py-2","focus:outline-none focus-visible:ring-2 focus-visible:ring-[var(--ock-text-foreground)] focus-visible:ring-inset",n),onClick:m,"aria-label":a,"aria-selected":p,"aria-controls":`${e}-panel`,role:"tab",type:"button",tabIndex:p?0:-1,children:t})}function m({className:e,children:t}){let n=c().setSelectedTab,a=(0,i.useCallback)(e=>{let t,a=e.target,r=Array.from(a.parentElement?.querySelectorAll('[role="tab"]')||[]),i=r.indexOf(a);if(-1===i)return;switch(e.key){case"ArrowRight":t=(i+1)%r.length;break;case"ArrowLeft":t=(i-1+r.length)%r.length;break;default:return}let s=r[t];s.focus();let o=s.getAttribute("aria-controls")?.replace("-panel","");o&&n(o),e.preventDefault()},[n]);return(0,s.jsx)("div",{className:(0,r.cn)("flex overflow-hidden",e),role:"tablist","aria-orientation":"horizontal",onKeyDown:a,children:t})}function y({children:e,value:t,className:n}){return c().selectedTab!==t?null:(0,s.jsx)("div",{className:n,role:"tabpanel","aria-labelledby":`${t}-panel`,children:e})}var f=n(71002);let b=[{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"morpho",type:"address"},{internalType:"uint256",name:"initialTimelock",type:"uint256"},{internalType:"address",name:"_asset",type:"address"},{internalType:"string",name:"_name",type:"string"},{internalType:"string",name:"_symbol",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"AboveMaxTimelock",type:"error"},{inputs:[{internalType:"address",name:"target",type:"address"}],name:"AddressEmptyCode",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"AddressInsufficientBalance",type:"error"},{inputs:[],name:"AllCapsReached",type:"error"},{inputs:[],name:"AlreadyPending",type:"error"},{inputs:[],name:"AlreadySet",type:"error"},{inputs:[],name:"BelowMinTimelock",type:"error"},{inputs:[{internalType:"Id",name:"id",type:"bytes32"}],name:"DuplicateMarket",type:"error"},{inputs:[],name:"ECDSAInvalidSignature",type:"error"},{inputs:[{internalType:"uint256",name:"length",type:"uint256"}],name:"ECDSAInvalidSignatureLength",type:"error"},{inputs:[{internalType:"bytes32",name:"s",type:"bytes32"}],name:"ECDSAInvalidSignatureS",type:"error"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"allowance",type:"uint256"},{internalType:"uint256",name:"needed",type:"uint256"}],name:"ERC20InsufficientAllowance",type:"error"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"balance",type:"uint256"},{internalType:"uint256",name:"needed",type:"uint256"}],name:"ERC20InsufficientBalance",type:"error"},{inputs:[{internalType:"address",name:"approver",type:"address"}],name:"ERC20InvalidApprover",type:"error"},{inputs:[{internalType:"address",name:"receiver",type:"address"}],name:"ERC20InvalidReceiver",type:"error"},{inputs:[{internalType:"address",name:"sender",type:"address"}],name:"ERC20InvalidSender",type:"error"},{inputs:[{internalType:"address",name:"spender",type:"address"}],name:"ERC20InvalidSpender",type:"error"},{inputs:[{internalType:"uint256",name:"deadline",type:"uint256"}],name:"ERC2612ExpiredSignature",type:"error"},{inputs:[{internalType:"address",name:"signer",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"ERC2612InvalidSigner",type:"error"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"assets",type:"uint256"},{internalType:"uint256",name:"max",type:"uint256"}],name:"ERC4626ExceededMaxDeposit",type:"error"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"shares",type:"uint256"},{internalType:"uint256",name:"max",type:"uint256"}],name:"ERC4626ExceededMaxMint",type:"error"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"shares",type:"uint256"},{internalType:"uint256",name:"max",type:"uint256"}],name:"ERC4626ExceededMaxRedeem",type:"error"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"assets",type:"uint256"},{internalType:"uint256",name:"max",type:"uint256"}],name:"ERC4626ExceededMaxWithdraw",type:"error"},{inputs:[],name:"FailedInnerCall",type:"error"},{inputs:[{internalType:"Id",name:"id",type:"bytes32"}],name:"InconsistentAsset",type:"error"},{inputs:[],name:"InconsistentReallocation",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"currentNonce",type:"uint256"}],name:"InvalidAccountNonce",type:"error"},{inputs:[{internalType:"Id",name:"id",type:"bytes32"}],name:"InvalidMarketRemovalNonZeroCap",type:"error"},{inputs:[{internalType:"Id",name:"id",type:"bytes32"}],name:"InvalidMarketRemovalNonZeroSupply",type:"error"},{inputs:[{internalType:"Id",name:"id",type:"bytes32"}],name:"InvalidMarketRemovalTimelockNotElapsed",type:"error"},{inputs:[],name:"InvalidShortString",type:"error"},{inputs:[],name:"MarketNotCreated",type:"error"},{inputs:[{internalType:"Id",name:"id",type:"bytes32"}],name:"MarketNotEnabled",type:"error"},{inputs:[],name:"MathOverflowedMulDiv",type:"error"},{inputs:[],name:"MaxFeeExceeded",type:"error"},{inputs:[],name:"MaxQueueLengthExceeded",type:"error"},{inputs:[],name:"NoPendingValue",type:"error"},{inputs:[],name:"NonZeroCap",type:"error"},{inputs:[],name:"NotAllocatorRole",type:"error"},{inputs:[],name:"NotCuratorNorGuardianRole",type:"error"},{inputs:[],name:"NotCuratorRole",type:"error"},{inputs:[],name:"NotEnoughLiquidity",type:"error"},{inputs:[],name:"NotGuardianRole",type:"error"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"OwnableInvalidOwner",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"OwnableUnauthorizedAccount",type:"error"},{inputs:[{internalType:"Id",name:"id",type:"bytes32"}],name:"PendingCap",type:"error"},{inputs:[],name:"PendingRemoval",type:"error"},{inputs:[{internalType:"uint8",name:"bits",type:"uint8"},{internalType:"uint256",name:"value",type:"uint256"}],name:"SafeCastOverflowedUintDowncast",type:"error"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"SafeERC20FailedOperation",type:"error"},{inputs:[{internalType:"string",name:"str",type:"string"}],name:"StringTooLong",type:"error"},{inputs:[{internalType:"Id",name:"id",type:"bytes32"}],name:"SupplyCapExceeded",type:"error"},{inputs:[],name:"TimelockNotElapsed",type:"error"},{inputs:[{internalType:"Id",name:"id",type:"bytes32"}],name:"UnauthorizedMarket",type:"error"},{inputs:[],name:"ZeroAddress",type:"error"},{inputs:[],name:"ZeroFeeRecipient",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newTotalAssets",type:"uint256"},{indexed:!1,internalType:"uint256",name:"feeShares",type:"uint256"}],name:"AccrueInterest",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"uint256",name:"assets",type:"uint256"},{indexed:!1,internalType:"uint256",name:"shares",type:"uint256"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[],name:"EIP712DomainChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferStarted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"caller",type:"address"},{indexed:!0,internalType:"Id",name:"id",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"suppliedAssets",type:"uint256"},{indexed:!1,internalType:"uint256",name:"suppliedShares",type:"uint256"}],name:"ReallocateSupply",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"caller",type:"address"},{indexed:!0,internalType:"Id",name:"id",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"withdrawnAssets",type:"uint256"},{indexed:!1,internalType:"uint256",name:"withdrawnShares",type:"uint256"}],name:"ReallocateWithdraw",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"caller",type:"address"},{indexed:!0,internalType:"Id",name:"id",type:"bytes32"}],name:"RevokePendingCap",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"caller",type:"address"}],name:"RevokePendingGuardian",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"caller",type:"address"},{indexed:!0,internalType:"Id",name:"id",type:"bytes32"}],name:"RevokePendingMarketRemoval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"caller",type:"address"}],name:"RevokePendingTimelock",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"caller",type:"address"},{indexed:!0,internalType:"Id",name:"id",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"cap",type:"uint256"}],name:"SetCap",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newCurator",type:"address"}],name:"SetCurator",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"caller",type:"address"},{indexed:!1,internalType:"uint256",name:"newFee",type:"uint256"}],name:"SetFee",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newFeeRecipient",type:"address"}],name:"SetFeeRecipient",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"caller",type:"address"},{indexed:!0,internalType:"address",name:"guardian",type:"address"}],name:"SetGuardian",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"allocator",type:"address"},{indexed:!1,internalType:"bool",name:"isAllocator",type:"bool"}],name:"SetIsAllocator",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newSkimRecipient",type:"address"}],name:"SetSkimRecipient",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"caller",type:"address"},{indexed:!1,internalType:"Id[]",name:"newSupplyQueue",type:"bytes32[]"}],name:"SetSupplyQueue",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"caller",type:"address"},{indexed:!1,internalType:"uint256",name:"newTimelock",type:"uint256"}],name:"SetTimelock",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"caller",type:"address"},{indexed:!1,internalType:"Id[]",name:"newWithdrawQueue",type:"bytes32[]"}],name:"SetWithdrawQueue",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"caller",type:"address"},{indexed:!0,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Skim",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"caller",type:"address"},{indexed:!0,internalType:"Id",name:"id",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"cap",type:"uint256"}],name:"SubmitCap",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newGuardian",type:"address"}],name:"SubmitGuardian",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"caller",type:"address"},{indexed:!0,internalType:"Id",name:"id",type:"bytes32"}],name:"SubmitMarketRemoval",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newTimelock",type:"uint256"}],name:"SubmitTimelock",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"updatedTotalAssets",type:"uint256"}],name:"UpdateLastTotalAssets",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"uint256",name:"assets",type:"uint256"},{indexed:!1,internalType:"uint256",name:"shares",type:"uint256"}],name:"Withdraw",type:"event"},{inputs:[],name:"DECIMALS_OFFSET",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"MORPHO",outputs:[{internalType:"contract IMorpho",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address",name:"loanToken",type:"address"},{internalType:"address",name:"collateralToken",type:"address"},{internalType:"address",name:"oracle",type:"address"},{internalType:"address",name:"irm",type:"address"},{internalType:"uint256",name:"lltv",type:"uint256"}],internalType:"struct MarketParams",name:"marketParams",type:"tuple"}],name:"acceptCap",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"acceptGuardian",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"acceptOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"acceptTimelock",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"asset",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"Id",name:"",type:"bytes32"}],name:"config",outputs:[{internalType:"uint184",name:"cap",type:"uint184"},{internalType:"bool",name:"enabled",type:"bool"},{internalType:"uint64",name:"removableAt",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"shares",type:"uint256"}],name:"convertToAssets",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"assets",type:"uint256"}],name:"convertToShares",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"curator",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"assets",type:"uint256"},{internalType:"address",name:"receiver",type:"address"}],name:"deposit",outputs:[{internalType:"uint256",name:"shares",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"eip712Domain",outputs:[{internalType:"bytes1",name:"fields",type:"bytes1"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"version",type:"string"},{internalType:"uint256",name:"chainId",type:"uint256"},{internalType:"address",name:"verifyingContract",type:"address"},{internalType:"bytes32",name:"salt",type:"bytes32"},{internalType:"uint256[]",name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"fee",outputs:[{internalType:"uint96",name:"",type:"uint96"}],stateMutability:"view",type:"function"},{inputs:[],name:"feeRecipient",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"guardian",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"isAllocator",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"lastTotalAssets",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"maxDeposit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"maxMint",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"maxRedeem",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"maxWithdraw",outputs:[{internalType:"uint256",name:"assets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"shares",type:"uint256"},{internalType:"address",name:"receiver",type:"address"}],name:"mint",outputs:[{internalType:"uint256",name:"assets",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"Id",name:"",type:"bytes32"}],name:"pendingCap",outputs:[{internalType:"uint192",name:"value",type:"uint192"},{internalType:"uint64",name:"validAt",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[],name:"pendingGuardian",outputs:[{internalType:"address",name:"value",type:"address"},{internalType:"uint64",name:"validAt",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[],name:"pendingOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pendingTimelock",outputs:[{internalType:"uint192",name:"value",type:"uint192"},{internalType:"uint64",name:"validAt",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"assets",type:"uint256"}],name:"previewDeposit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"shares",type:"uint256"}],name:"previewMint",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"shares",type:"uint256"}],name:"previewRedeem",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"assets",type:"uint256"}],name:"previewWithdraw",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{components:[{internalType:"address",name:"loanToken",type:"address"},{internalType:"address",name:"collateralToken",type:"address"},{internalType:"address",name:"oracle",type:"address"},{internalType:"address",name:"irm",type:"address"},{internalType:"uint256",name:"lltv",type:"uint256"}],internalType:"struct MarketParams",name:"marketParams",type:"tuple"},{internalType:"uint256",name:"assets",type:"uint256"}],internalType:"struct MarketAllocation[]",name:"allocations",type:"tuple[]"}],name:"reallocate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"shares",type:"uint256"},{internalType:"address",name:"receiver",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"redeem",outputs:[{internalType:"uint256",name:"assets",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"Id",name:"id",type:"bytes32"}],name:"revokePendingCap",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"revokePendingGuardian",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"Id",name:"id",type:"bytes32"}],name:"revokePendingMarketRemoval",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"revokePendingTimelock",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newCurator",type:"address"}],name:"setCurator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"newFee",type:"uint256"}],name:"setFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newFeeRecipient",type:"address"}],name:"setFeeRecipient",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newAllocator",type:"address"},{internalType:"bool",name:"newIsAllocator",type:"bool"}],name:"setIsAllocator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newSkimRecipient",type:"address"}],name:"setSkimRecipient",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"Id[]",name:"newSupplyQueue",type:"bytes32[]"}],name:"setSupplyQueue",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"skim",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"skimRecipient",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address",name:"loanToken",type:"address"},{internalType:"address",name:"collateralToken",type:"address"},{internalType:"address",name:"oracle",type:"address"},{internalType:"address",name:"irm",type:"address"},{internalType:"uint256",name:"lltv",type:"uint256"}],internalType:"struct MarketParams",name:"marketParams",type:"tuple"},{internalType:"uint256",name:"newSupplyCap",type:"uint256"}],name:"submitCap",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newGuardian",type:"address"}],name:"submitGuardian",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"loanToken",type:"address"},{internalType:"address",name:"collateralToken",type:"address"},{internalType:"address",name:"oracle",type:"address"},{internalType:"address",name:"irm",type:"address"},{internalType:"uint256",name:"lltv",type:"uint256"}],internalType:"struct MarketParams",name:"marketParams",type:"tuple"}],name:"submitMarketRemoval",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"newTimelock",type:"uint256"}],name:"submitTimelock",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"supplyQueue",outputs:[{internalType:"Id",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"supplyQueueLength",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"timelock",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalAssets",outputs:[{internalType:"uint256",name:"assets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"indexes",type:"uint256[]"}],name:"updateWithdrawQueue",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"assets",type:"uint256"},{internalType:"address",name:"receiver",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"withdraw",outputs:[{internalType:"uint256",name:"shares",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"withdrawQueue",outputs:[{internalType:"Id",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"withdrawQueueLength",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}];var v=n(88848);let h=`query($address: String!) {
    vaultByAddress(address: $address, chainId: ${v.E.id} ) {
        address
        symbol
        name
        creationBlockNumber
        creationTimestamp
        creatorAddress
        whitelisted
        asset {
          id
          address
          decimals
          symbol
        }
        chain {
          id
          network
        }
        liquidity {
          underlying
        }
        state {
          id
          apy
          netApy
          netApyWithoutRewards
          totalAssets
          totalAssetsUsd
          fee
          timelock
          rewards {
            amountPerSuppliedToken
            supplyApr
            yearlySupplyTokens
            asset {
              address
              name
              decimals
            }
        }
      }
    }
  }`;async function g(e){let t=await fetch("https://blue-api.morpho.org/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:h,variables:{address:e}})}),n=await t.json(),a=n.data,r=n.errors;if(r?.some(e=>"BAD_USER_INPUT"===e.status))throw Error("Vault not found. Ensure the address is a valid Morpho vault on Base.");if(r&&r?.length>0)throw Error("Error fetching Morpho vault data. Please try again later.");return a.vaultByAddress}var x=n(53455),w=n(30598),T=n(20461),S=n(34490);function j(e){var t,n,a,r;let{vaultAddress:i,recipientAddress:s}=e,o=(0,T.useReadContracts)({contracts:[{abi:b,address:i,functionName:"asset",chainId:v.E.id},{abi:b,address:i,functionName:"name",chainId:v.E.id},{abi:b,address:i,functionName:"decimals",chainId:v.E.id}],query:{enabled:!!i}}),l=o.data,u=o.status,c=null==l?void 0:l[0].result,d=null==l?void 0:l[1].result,p=null==l?void 0:l[2].result,m=(0,S.useReadContract)({abi:b,address:i,functionName:"maxWithdraw",args:[s],chainId:v.E.id,query:{enabled:!!i&&!!s}}),y=m.data,f=m.status,h=m.refetch,j=(0,x.useQuery)({queryKey:["morpho-apy",i],queryFn:()=>g(i)}),A=j.data,N=j.error,k=(null==A?void 0:A.state)?function(e){let t=e.netApyWithoutRewards,n=e.rewards.reduce((e,t)=>e+t.supplyApr,0);return e.netApy-(t+n)}(null==A?void 0:A.state):0,C=y&&(null==A?void 0:A.asset.decimals)?(0,w.J)(y,null==A?void 0:A.asset.decimals):void 0,M=(null==A?void 0:A.state.totalAssets)&&A.asset.decimals?(0,w.J)(BigInt(null==A?void 0:A.state.totalAssets),A.asset.decimals):void 0,E=(null==A?void 0:A.liquidity.underlying)&&A.asset.decimals?(0,w.J)(BigInt(null==A?void 0:A.liquidity.underlying),A.asset.decimals):void 0;return{status:u,error:N,balance:C,balanceStatus:f,refetchBalance:h,asset:{address:c,symbol:null==A?void 0:A.symbol,decimals:null==A?void 0:A.asset.decimals},vaultName:d,vaultDecimals:p,totalApy:null==A||null==(t=A.state)?void 0:t.netApy,nativeApy:null==A||null==(n=A.state)?void 0:n.netApyWithoutRewards,vaultFee:null==A||null==(a=A.state)?void 0:a.fee,deposits:M,liquidity:E,rewards:[{asset:"0xBAa5CC21fd487B8Fcc2F632f3F4E8D37262a0842",assetName:"MORPHO",apy:k},...(null==A||null==(r=A.state)?void 0:r.rewards.map(e=>({asset:e.asset.address,assetName:e.asset.name,apy:e.supplyApr})))||[]]}}var A=n(30931),N=n(4486),k=n(65028),C=n(36141),M=n(66066),E=n(26963),I=n(3063);function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,s,o=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(a=i.call(n)).done)&&(o.push(a.value),o.length!==t);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw r}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return D(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}let P=(0,i.createContext)(void 0);function R(e){let{vaultAddress:t,children:n,isSponsored:r,onError:o,onStatus:l,onSuccess:u}=e;if(!t)throw Error("vaultAddress is required. For a list of vaults, see: https://app.morpho.org/base/earn");let c=O((0,M.U)({statusName:"init",statusData:null}),2),d=c[0],p=c[1],m=(0,I.useAccount)().address,y=O((0,i.useState)(""),2),f=y[0],h=y[1],g=O((0,i.useState)(""),2),x=g[0],w=g[1];(0,i.useEffect)(()=>{if("error"===d.statusName&&(null==o||o(d.statusData)),(null==d?void 0:d.statusName)==="success"){var e,t;null==u||u(null==d||null==(t=d.statusData)||null==(e=t.transactionReceipts)?void 0:e[0])}null==l||l(d)},[d,l,o,u]);let T=j({vaultAddress:t,recipientAddress:m}),S=T.asset,D=T.balance,R=T.balanceStatus,F=T.refetchBalance,U=T.totalApy,_=T.nativeApy,B=T.vaultFee,L=T.vaultName,W=T.deposits,q=T.liquidity,Q=T.rewards,H=T.error,$=S?function({address:e,symbol:t,name:n,decimals:a}){let r=C.Ob.find(t=>t.address===e);return r||(t&&n&&a?{address:e,name:n,symbol:t,decimals:a,image:null,chainId:v.E.id}:void 0)}({address:S.address,symbol:S.symbol,name:S.symbol,decimals:S.decimals}):void 0,V=(0,E.f)(m,$),G=V.convertedBalance,Z=V.status,z=V.refetch,X=function(e){let{vaultAddress:t,recipientAddress:n,amount:a}=e,r=j({vaultAddress:t,recipientAddress:n}).asset;if(!r||!r.decimals||!n)return{calls:[]};let i=(0,k.X)(a,r.decimals);return{calls:function({vaultAddress:e,tokenAddress:t,amount:n,recipientAddress:a}){return[{to:t,data:(0,A.p)({abi:N.xw,functionName:"approve",args:[e,n]})},{to:e,data:(0,A.p)({abi:b,functionName:"deposit",args:[n,a]})}]}({recipientAddress:n,vaultAddress:t,tokenAddress:r.address,amount:i})}}({vaultAddress:t,amount:x,recipientAddress:m}).calls,K=function(e){let{vaultAddress:t,amount:n,recipientAddress:a,tokenDecimals:r}=e,i=j({vaultAddress:t,recipientAddress:a}),s=i.asset,o=i.balance,l=i.vaultDecimals,u=Number(n)>Number(o);return s&&void 0!==o&&l&&a&&!u&&void 0!==r?{calls:function({vaultAddress:e,amount:t,recipientAddress:n}){return[{to:e,data:(0,A.p)({abi:b,functionName:"withdraw",args:[t,n,n]})}]}({recipientAddress:a,vaultAddress:t,amount:(0,k.X)(n,r)})}:{calls:[]}}({vaultAddress:t,amount:f,recipientAddress:m,tokenDecimals:null==$?void 0:$.decimals}).calls,J=(0,i.useCallback)(async e=>{p({statusName:"amountChange",statusData:{amount:e,token:$}}),w(e)},[p,$]),Y=(0,i.useCallback)(async e=>{p({statusName:"amountChange",statusData:{amount:e,token:$}}),h(e)},[p,$]),ee=(0,i.useMemo)(()=>x?0>=Number(x)?"Must be greater than 0":Number(x)>Number(G)?"Amount exceeds the balance":null:null,[x,G]),et=(0,i.useMemo)(()=>f?0===Number(f)?"Must be greater than 0":Number(f)>Number(D)?"Amount exceeds the balance":null:null,[f,D]),en=(0,a.h)({error:H,recipientAddress:m,vaultAddress:t,vaultToken:$,vaultName:L,deposits:W,liquidity:q,depositedBalance:D,depositedBalanceStatus:R,refetchDepositedBalance:F,depositAmount:x,setDepositAmount:J,depositAmountError:ee,withdrawAmount:f,setWithdrawAmount:Y,withdrawAmountError:et,walletBalance:G,walletBalanceStatus:Z,refetchWalletBalance:z,apy:U,nativeApy:_,vaultFee:B,rewards:Q,interestEarned:"",withdrawCalls:K,depositCalls:X,lifecycleStatus:d,updateLifecycleStatus:p,isSponsored:r});return(0,s.jsx)(P.Provider,{value:en,children:n})}function F(){let e=(0,i.useContext)(P);if(!e)throw Error("useEarnContext must be used within an EarnProvider");return e}function U(e,t,n="standard"){if("0"===e)return e;let a=Number(e),r=a%1!=0,i=e.split(".")[1]?.length||0,s=i>t?Math.trunc(a*10**t)/10**t:a;return new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:r?Math.min(t,i):0,notation:n}).format(s)}var _=n(27058),B=n(35890);let L=(0,s.jsxs)("svg",{"data-testid":"ock-etherscanSvg",role:"img","aria-label":"Etherscan",width:"100%",height:"100%",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("title",{children:"Etherscan"}),(0,s.jsx)("path",{d:"M2.4981 5.70643C2.4981 5.42947 2.72562 5.20195 3.0021 5.20195H3.85218C4.12914 5.20195 4.36626 5.42947 4.36626 5.71651V8.92243C4.46514 8.89267 4.5837 8.86291 4.72242 8.83315C4.9101 8.78371 5.04882 8.61571 5.04882 8.41747V4.43971C5.04882 4.16275 5.27634 3.92515 5.5629 3.92515H6.41298C6.68994 3.92515 6.92706 4.15267 6.92706 4.43971V8.13091C6.92706 8.13091 7.1349 8.04163 7.34226 7.95283C7.50066 7.88371 7.59954 7.73539 7.59954 7.55683V3.15379C7.59954 2.87683 7.82706 2.63923 8.10402 2.63923H8.9541C9.23106 2.63923 9.45858 2.86675 9.45858 3.15379V6.78547C10.1901 6.25123 10.9418 5.60803 11.5351 4.83619C11.7131 4.60867 11.7626 4.31155 11.6637 4.03459C10.576 0.907872 7.15554 -0.754848 4.03122 0.333792C0.906903 1.42243 -0.753897 4.84579 0.333303 7.97299C0.451863 8.32915 0.610263 8.66563 0.797943 8.99203C0.946263 9.24931 1.22322 9.39763 1.51986 9.36787C1.67826 9.35779 1.87602 9.33811 2.12274 9.30835C2.34018 9.28867 2.49858 9.10051 2.49858 8.88259L2.4981 5.70643Z",className:r.Kk.primary}),(0,s.jsx)("path",{d:"M2.47852 10.8519C5.15788 12.8012 8.90524 12.2074 10.8526 9.52613C11.5942 8.49701 11.9993 7.26005 11.9993 5.99381C11.9993 5.85509 11.9892 5.71685 11.9796 5.57812C9.79516 8.85317 5.75116 10.3868 2.47852 10.8519Z",className:r.Kk.primary})]});var W=n(12435);n(513);var q=n(46416);function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function H(e){let{label:t,value:n}=e;return(0,s.jsxs)("div",{className:"flex items-center justify-between gap-8",children:[(0,s.jsx)("div",{children:t}),(0,s.jsx)("div",{className:"font-semibold",children:n})]})}function $(){var e;let t=function(e){if(Array.isArray(e))return e}(e=(0,i.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,s,o=[],l=!0,u=!1;try{i=(n=n.call(e)).next,!1;for(;!(l=(a=i.call(n)).done)&&(o.push(a.value),o.length!==t);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw r}}return o}}(e,2)||function(e,t){if(e){if("string"==typeof e)return Q(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Q(e,t):void 0}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=t[0],a=t[1],o=(0,i.useRef)(null),l=(0,i.useRef)(null),u=F(),c=u.vaultToken,d=u.vaultName,p=u.deposits,m=u.liquidity,y=u.vaultAddress;return c&&d?(0,s.jsxs)("div",{ref:l,className:(0,r.cn)(r.Qq.label1,r.yW.foregroundMuted,r.Tp.alternate,"flex items-center justify-center gap-2 rounded-full p-1 px-3"),"data-testid":"ock-vaultDetails",children:[(0,s.jsx)(q.H,{token:c,size:16}),(0,s.jsx)("span",{className:"max-w-24 truncate",title:d,children:d}),(0,s.jsx)("button",{ref:o,type:"button","data-testid":"ock-vaultDetailsButton",className:(0,r.cn)("size-3 [&_path]:fill-[var(--ock-icon-color-foreground-muted)] [&_path]:transition-colors [&_path]:ease-in-out [&_path]:hover:fill-[var(--ock-icon-color-foreground)]",n&&"[&_path]:fill-[var(--ock-icon-color-foreground)]"),onClick:()=>a(!n),children:W.H}),(0,s.jsx)(_.A,{isOpen:n,onClose:()=>a(!1),position:"bottom",align:"start",trigger:o,anchor:l.current,offset:4,children:(0,s.jsxs)("div",{className:(0,r.cn)(r.Tp.default,r.yW.foreground,r.PQ.defaultActive,r.Tp.default,"flex min-w-40 flex-col gap-3 rounded-lg border p-3 text-sm","fade-in animate-in duration-200"),children:[(0,s.jsx)("div",{className:"font-semibold",children:d}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)(H,{label:"Token",value:(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(q.H,{token:c,size:16}),(0,s.jsx)("span",{className:"max-w-24 truncate",children:c.symbol})]})}),p?(0,s.jsx)(H,{label:"Total deposits",value:"".concat(U(p,1,"compact")," ").concat(c.symbol)}):null,m?(0,s.jsx)(H,{label:"Liquidity",value:"".concat(U(m,1,"compact")," ").concat(c.symbol)}):null]}),(0,s.jsxs)("a",{href:"https://basescan.org/address/".concat(y),target:"_blank",rel:"noopener noreferrer",className:(0,r.cn)(r.yW.primary,"flex max-w-fit items-center gap-1 hover:opacity-80"),"data-testid":"ock-vaultDetailsBaseScanLink",children:[(0,s.jsx)("div",{children:"View on BaseScan"}),(0,s.jsx)("div",{className:"h-3 w-3",children:L})]})]})})]}):(0,s.jsx)(B.E,{className:"!rounded-full h-7 min-w-28"})}function V(e,t=2){return new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:t,maximumFractionDigits:t}).format(e)}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function Z(){let e=F(),t=e.rewards,n=e.nativeApy,a=e.vaultToken,i=e.vaultFee;return(0,s.jsxs)("div",{className:(0,r.cn)(r.yW.foregroundMuted,r.PQ.defaultActive,r.Tp.default,"fade-in flex min-w-52 animate-in flex-col gap-2 rounded-lg border p-3 text-sm duration-200"),children:[n?(0,s.jsxs)("div",{className:"flex items-center justify-between gap-1","data-testid":"ock-earnNativeApy",children:[(0,s.jsx)("div",{children:null==a?void 0:a.symbol}),(0,s.jsx)("div",{className:"font-semibold",children:V(n)})]}):null,null==t?void 0:t.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between gap-1","data-testid":"ock-earnRewards",children:[(0,s.jsx)("div",{children:e.assetName}),(0,s.jsx)("div",{className:"font-semibold",children:V(e.apy)})]},e.asset)),i&&n?(0,s.jsxs)("div",{className:"flex items-center justify-between gap-1","data-testid":"ock-earnPerformanceFee",children:[(0,s.jsxs)("div",{children:["Perf. Fee"," ",(0,s.jsxs)("span",{className:"text-xs",children:["(",V(i,0),")"]})]}),(0,s.jsxs)("div",{className:"font-semibold",children:["-",V(i*n)]})]}):null]})}function z(){var e;let t=function(e){if(Array.isArray(e))return e}(e=(0,i.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,s,o=[],l=!0,u=!1;try{i=(n=n.call(e)).next,!1;for(;!(l=(a=i.call(n)).done)&&(o.push(a.value),o.length!==t);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw r}}return o}}(e,2)||function(e,t){if(e){if("string"==typeof e)return G(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?G(e,t):void 0}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=t[0],a=t[1],o=(0,i.useRef)(null),l=(0,i.useRef)(null),u=F().apy;return u?(0,s.jsxs)("div",{ref:l,className:(0,r.cn)(r.Qq.label1,r.yW.foregroundMuted,r.Tp.alternate,"flex items-center justify-center gap-1 rounded-full p-1 px-3"),"data-testid":"ock-yieldDetails",children:["APY ".concat(V(Number(U(u.toString(),4)))),(0,s.jsx)("button",{ref:o,type:"button","data-testid":"ock-apyInfoButton",className:(0,r.cn)("size-3 [&_path]:fill-[var(--ock-icon-color-foreground-muted)] [&_path]:transition-colors [&_path]:ease-in-out [&_path]:hover:fill-[var(--ock-icon-color-foreground)]",n&&"[&_path]:fill-[var(--ock-icon-color-foreground)]"),onClick:()=>a(!n),children:W.H}),(0,s.jsx)(_.A,{isOpen:n,onClose:()=>a(!1),position:"bottom",align:"end",trigger:o,anchor:l.current,offset:4,children:(0,s.jsx)(Z,{})})]}):(0,s.jsx)(B.E,{className:"!rounded-full h-7 min-w-28"})}function X(e){let{className:t}=e,n=F().error;return n?(0,s.jsxs)("div",{className:(0,r.cn)("flex w-full flex-col gap-1 text-sm",r.yW.error),children:[(0,s.jsx)("div",{className:"font-semibold",children:"Error fetching vault details"}),(0,s.jsx)("div",{className:"text-xs",children:n.message})]}):(0,s.jsxs)("div",{"data-testid":"ockEarnDetails",className:(0,r.cn)(r.PQ.radius,"flex w-full items-center justify-between gap-4",t),children:[(0,s.jsx)($,{}),(0,s.jsx)(z,{})]})}var K=n(32384),J=n(31384),Y=n(78039);function ee({className:e,disabled:t,value:n,onChange:a,"aria-label":i}){return(0,s.jsx)("div",{"data-testid":"ockEarnAmountInput",className:(0,r.cn)("flex flex-col",e),children:(0,s.jsx)(K.k,{className:(0,r.cn)(r.Qq.base,r.yW.foreground,"w-full border-none bg-transparent text-5xl","leading-none outline-none"),placeholder:"0.0",value:(0,Y.e)(n),onChange:a,inputValidator:J.d,disabled:t,"aria-label":i})})}function et(e){let{className:t}=e,n=F(),a=n.depositAmount,r=n.setDepositAmount;return(0,s.jsx)(ee,{className:t,value:a,onChange:r,"aria-label":"Deposit Amount"})}function en({className:e,onActionPress:t,title:n,subtitle:a,showAction:i=!1}){return(0,s.jsxs)("div",{className:(0,r.cn)(r.Tp.alternate,r.PQ.radius,"flex items-center justify-between gap-4 p-3 px-4",e),"data-testid":"ockEarnBalance",children:[(0,s.jsxs)("div",{className:(0,r.cn)("flex flex-col",r.yW.foreground),children:[(0,s.jsx)("div",{className:r.Qq.headline,children:n}),(0,s.jsx)("div",{className:(0,r.cn)(r.Qq.label2,r.yW.foregroundMuted),children:a})]}),i&&(0,s.jsx)("button",{onClick:t,className:(0,r.cn)(r.Qq.label2,r.yW.primary),type:"button","aria-label":"Use max",children:"Use max"})]})}function ea(e){let{className:t}=e,n=(0,I.useAccount)().address,a=F(),o=a.setDepositAmount,l=a.vaultToken,u=a.walletBalance,c=a.walletBalanceStatus,d=(0,i.useCallback)(()=>{u&&o(u)},[u,o]),p=(0,i.useMemo)(()=>u?U(u.toString(),6):"0",[u]),m=(0,i.useMemo)(()=>n?l?"pending"===c?(0,s.jsxs)("div",{className:"flex gap-1",children:[(0,s.jsx)(B.E,{className:"!bg-[var(--ock-bg-alternate-active)] h-6 w-12"}),(0,s.jsx)("span",{children:null==l?void 0:l.symbol})]}):"".concat(p," ").concat(null==l?void 0:l.symbol):(0,s.jsx)(B.E,{className:(0,r.cn)("!bg-[var(--ock-bg-alternate-active)] h-6 w-24")}):"Wallet not connected",[p,l,n,c]),y=(0,i.useMemo)(()=>n?"Available to deposit":"Connect wallet to deposit",[n]);return(0,s.jsx)(en,{className:t,title:m,subtitle:y,onActionPress:d,showAction:!!u})}var er=n(45026),ei=n(28444);function es(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}let eo=e=>{let t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,s,o=[],l=!0,u=!1;try{i=(n=n.call(e)).next,!1;for(;!(l=(a=i.call(n)).done)&&(o.push(a.value),o.length!==t);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw r}}return o}}(e,2)||function(e,t){if(e){if("string"==typeof e)return es(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?es(e,t):void 0}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,i.useState)(null),2),n=t[0],a=t[1],r=(0,i.useRef)(!1),s=(0,i.useRef)(!1),o=(0,er.s)().sendAnalytics,l=F(),u=l.vaultAddress,c=l.vaultToken,d=l.recipientAddress,p=l.depositAmount,m=(0,i.useMemo)(()=>({amount:Number(p)||Number(e),address:d??"",tokenAddress:c?.address??"",vaultAddress:u}),[e,p,d,c?.address,u]);return(0,i.useEffect)(()=>{"buildingTransaction"===n&&(r.current=!1,o(ei.Dl.EarnDepositInitiated,m)),"success"!==n||r.current||(r.current=!0,o(ei.Dl.EarnDepositSuccess,m)),"error"!==n||s.current||(s.current=!0,o(ei.Dl.EarnDepositFailure,m))},[n,m,o]),{setTransactionState:a}};n(51760),n(55967);var el=n(41872),eu=n(8248),ec=n(44208);function ed(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function ep(e){var t;let{className:n}=e,a=F(),o=a.recipientAddress,l=a.vaultToken,u=a.depositCalls,c=a.depositAmount,d=a.setDepositAmount,p=a.depositAmountError,m=a.updateLifecycleStatus,y=a.refetchWalletBalance,f=a.isSponsored,b=function(e){if(Array.isArray(e))return e}(t=(0,i.useState)(""))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,s,o=[],l=!0,u=!1;try{i=(n=n.call(e)).next,!1;for(;!(l=(a=i.call(n)).done)&&(o.push(a.value),o.length!==t);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw r}}return o}}(t,2)||function(e,t){if(e){if("string"==typeof e)return ed(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ed(e,t):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),v=b[0],h=b[1],g=eo(v).setTransactionState,x=(0,i.useCallback)(e=>{g(e.statusName),"transactionPending"===e.statusName&&m({statusName:"transactionPending"}),("transactionLegacyExecuted"===e.statusName||"success"===e.statusName||"error"===e.statusName)&&m(e)},[m,g]),w=(0,i.useCallback)(e=>{e.transactionReceipts[0]&&"success"===e.transactionReceipts[0].status&&(c&&h(c),d(""),y())},[c,d,y]);return o?(0,s.jsx)(eu.Z,{className:n,calls:u,onStatus:x,onSuccess:w,isSponsored:f,resetAfter:3e3,children:(0,s.jsx)(ec.v,{text:null!=p?p:"Deposit",successOverride:{text:"Deposited ".concat(v," ").concat(null==l?void 0:l.symbol)},disabled:!!p||!c})}):(0,s.jsx)(el.U,{className:(0,r.cn)("w-full",n),text:"Connect to deposit"})}function em({children:e,className:t}){return(0,s.jsx)("div",{"data-testid":"ockEarnCard",className:(0,r.cn)(r.PQ.default,"flex flex-col gap-8 border-t p-4",r.Tp.default,t),children:e})}function ey(){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(X,{}),(0,s.jsx)(et,{}),(0,s.jsx)(ea,{}),(0,s.jsx)(ep,{className:"-mt-4 h-12"})]})}function ef(e){let{children:t=(0,s.jsx)(ey,{}),className:n}=e;return(0,s.jsx)(em,{className:n,children:t})}function eb(e){let{className:t}=e,n=F(),a=n.withdrawAmount,r=n.setWithdrawAmount;return(0,s.jsx)(ee,{className:t,value:a,onChange:r,"aria-label":"Withdraw Amount"})}function ev(e){let{className:t}=e,n=F(),a=n.depositedBalance,r=n.depositedBalanceStatus,o=n.setWithdrawAmount,l=n.vaultToken,u=(0,I.useAccount)().address,c=(0,i.useCallback)(()=>{a&&o(a)},[a,o]),d=(0,i.useMemo)(()=>a?U(a.toString(),4):"0",[a]),p=(0,i.useMemo)(()=>u?l?"pending"===r?(0,s.jsxs)("div",{className:"flex gap-1",children:[(0,s.jsx)(B.E,{className:"!bg-[var(--ock-bg-alternate-active)] h-6 w-12"}),(0,s.jsx)("span",{children:null==l?void 0:l.symbol})]}):"".concat(d," ").concat(null==l?void 0:l.symbol):(0,s.jsx)(B.E,{className:"h-6 w-24"}):"Wallet not connected",[d,l,u,r]),m=(0,i.useMemo)(()=>u?"Available to withdraw":"Connect wallet to withdraw",[u]);return(0,s.jsx)(en,{className:t,title:p,subtitle:m,onActionPress:c,showAction:"0"!==d})}function eh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}let eg=e=>{let t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,s,o=[],l=!0,u=!1;try{i=(n=n.call(e)).next,!1;for(;!(l=(a=i.call(n)).done)&&(o.push(a.value),o.length!==t);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw r}}return o}}(e,2)||function(e,t){if(e){if("string"==typeof e)return eh(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eh(e,t):void 0}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,i.useState)(null),2),n=t[0],a=t[1],r=(0,i.useRef)(!1),s=(0,i.useRef)(!1),o=(0,er.s)().sendAnalytics,l=F(),u=l.vaultAddress,c=l.vaultToken,d=l.recipientAddress,p=l.withdrawAmount,m=(0,i.useMemo)(()=>({amount:Number(p)||Number(e),address:d??"",tokenAddress:c?.address??"",vaultAddress:u}),[p,e,d,c?.address,u]);return(0,i.useEffect)(()=>{"buildingTransaction"===n&&(r.current=!1,o(ei.Dl.EarnWithdrawInitiated,m)),"success"!==n||r.current||(r.current=!0,o(ei.Dl.EarnWithdrawSuccess,m)),"error"!==n||s.current||(s.current=!0,o(ei.Dl.EarnWithdrawFailure,m))},[n,m,o]),{setTransactionState:a}};function ex(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function ew(e){var t;let{className:n}=e,a=F(),o=a.recipientAddress,l=a.withdrawCalls,u=a.withdrawAmount,c=a.setWithdrawAmount,d=a.updateLifecycleStatus,p=a.refetchDepositedBalance,m=a.withdrawAmountError,y=a.vaultToken,f=a.isSponsored,b=function(e){if(Array.isArray(e))return e}(t=(0,i.useState)(""))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,s,o=[],l=!0,u=!1;try{i=(n=n.call(e)).next,!1;for(;!(l=(a=i.call(n)).done)&&(o.push(a.value),o.length!==t);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw r}}return o}}(t,2)||function(e,t){if(e){if("string"==typeof e)return ex(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ex(e,t):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),v=b[0],h=b[1],g=eg(v).setTransactionState,x=(0,i.useCallback)(e=>{g(e.statusName),"transactionPending"===e.statusName&&d({statusName:"transactionPending"}),("transactionLegacyExecuted"===e.statusName||"success"===e.statusName||"error"===e.statusName)&&d(e)},[d,g]),w=(0,i.useCallback)(e=>{e.transactionReceipts[0]&&"success"===e.transactionReceipts[0].status&&(u&&h(u),c(""),p())},[c,p,u]);return o?(0,s.jsx)(eu.Z,{className:n,calls:l,onStatus:x,onSuccess:w,isSponsored:f,resetAfter:3e3,children:(0,s.jsx)(ec.v,{text:null!=m?m:"Withdraw",successOverride:{text:"Withdrew ".concat(v," ").concat(null==y?void 0:y.symbol)},disabled:!!m||!u})}):(0,s.jsx)(el.U,{className:(0,r.cn)("w-full",n),text:"Connect to withdraw"})}function eT(){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(X,{}),(0,s.jsx)(eb,{}),(0,s.jsx)(ev,{}),(0,s.jsx)(ew,{className:"-mt-4 h-12"})]})}function eS(e){let{children:t=(0,s.jsx)(eT,{}),className:n}=e;return(0,s.jsx)(em,{className:n,children:t})}function ej(){let e=F(),t=e.refetchWalletBalance,n=e.refetchDepositedBalance;return(0,s.jsxs)(d,{defaultValue:"deposit",children:[(0,s.jsxs)(m,{children:[(0,s.jsx)(p,{value:"deposit",onClick:t,className:"rounded-tl-[calc(var(--ock-border-radius)_-_1px)]",children:"Deposit"}),(0,s.jsx)(p,{value:"withdraw",onClick:n,className:"rounded-tr-[calc(var(--ock-border-radius)_-_1px)]",children:"Withdraw"})]}),(0,s.jsx)(y,{value:"deposit",className:(0,r.cn)(r.PQ.lineDefault,"!border-l-0 !border-b-0 !border-r-0"),children:(0,s.jsx)(ef,{})}),(0,s.jsx)(y,{value:"withdraw",className:(0,r.cn)(r.PQ.lineDefault,"!border-l-0 !border-b-0 !border-r-0"),children:(0,s.jsx)(eS,{})})]})}function eA(e){let{children:t=(0,s.jsx)(ej,{}),className:n,vaultAddress:a,isSponsored:i,onError:o,onStatus:l,onSuccess:u}=e,c=(0,f.D)();return(0,s.jsx)(R,{vaultAddress:a,isSponsored:i,onError:o,onStatus:l,onSuccess:u,children:(0,s.jsx)("div",{className:(0,r.cn)(c,"flex w-[375px] flex-col overflow-hidden",r.PQ.radius,r.PQ.lineDefault,n),children:t})})}},54937:(e,t,n)=>{n(11118),n(8927),n(48673),n(24675),n(95155),n(5990),n(90822),n(34909),n(14943)},55349:(e,t,n)=>{n(11118),n(24675),n(95155)},55712:(e,t,n)=>{n.d(t,{o:()=>y});var a=n(13657),r=n(96440),i=n(47536),s=n(94244),o=n(30931),l=n(72757),u=n(30523);async function c(e,t){let n=t.contracts.map(e=>{let{address:t,abi:n,functionName:a,args:r,value:i}=e;return{data:(0,o.p)({abi:n,functionName:a,args:r}),to:t,value:i}});return(0,l.T)(e,u.y,"sendCalls")({...t,calls:n})}var d=n(13435);async function p(e,t){let{account:n,chainId:a,connector:r,...i}=t;return c(await (0,d.r)(e,{account:n,chainId:a,connector:r}),{...i,...n?{account:n}:{},chain:a?{id:a}:void 0})}var m=n(20411);function y(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{mutation:n}=t,o=(e=(0,m.useConfig)(t),{mutationFn:t=>p(e,t),mutationKey:["writeContracts"]}),l=(0,s.useMutation)((0,a._)({},n,o)),{mutate:u,mutateAsync:c}=l,d=(0,i._)(l,["mutate","mutateAsync"]);return(0,r._)((0,a._)({},d),{writeContracts:u,writeContractsAsync:c})}},56099:(e,t,n)=>{n.d(t,{useDisconnect:()=>c});var a=n(13657),r=n(96440),i=n(47536),s=n(94244);async function o(e,t={}){let n;if(t.connector)n=t.connector;else{let{connections:t,current:a}=e.state,r=t.get(a);n=r?.connector}let a=e.state.connections;n&&(await n.disconnect(),n.emitter.off("change",e._internal.events.change),n.emitter.off("disconnect",e._internal.events.disconnect),n.emitter.on("connect",e._internal.events.connect),a.delete(n.uid)),e.setState(e=>{if(0===a.size)return{...e,connections:new Map,current:null,status:"disconnected"};let t=a.values().next().value;return{...e,connections:new Map(a),current:t.connector.uid}});{let t=e.state.current;if(!t)return;let n=e.state.connections.get(t)?.connector;if(!n)return;await e.storage?.setItem("recentConnectorId",n.id)}}var l=n(20411),u=n(98744);function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{mutation:t}=e,n=(0,l.useConfig)(e),c={mutationFn:e=>o(n,e),mutationKey:["disconnect"]},d=(0,s.useMutation)((0,a._)({},t,c)),{mutate:p,mutateAsync:m}=d,y=(0,i._)(d,["mutate","mutateAsync"]);return(0,r._)((0,a._)({},y),{connectors:(0,u.useConnections)({config:n}).map(e=>e.connector),disconnect:p,disconnectAsync:m})}},58223:(e,t,n)=>{n.d(t,{x:()=>w});var a=n(63598),r=n(41069),i=n(11118),s=n(65719),o=n(24675);n(51760),n(55967);var l=n(12115),u=n(60681),c=n(3063),d=n(95155),p=n(41872),m=n(8248),y=n(44208),f=n(95342),b=n(94302),v=n(54837),h=n(46363);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,s,o=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(a=i.call(n)).done)&&(o.push(a.value),o.length!==t);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw r}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return x(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function w({className:e,label:t="Mint",disabled:n,pendingOverride:x,successOverride:w,errorOverride:T}){let S=(0,u.useChainId)(),j=(0,c.useAccount)().address,A=(0,i.b_)(),N=A.contractAddress,k=A.tokenId,C=A.network,M=A.isEligibleToMint,E=A.buildMintTransaction,I=A.isSponsored,O=A.quantity,D=A.name,P=(0,r.Fx)().updateLifecycleStatus,R=g((0,l.useState)([]),2),F=R[0],U=R[1],_=g((0,l.useState)(null),2),B=_[0],L=_[1],W=(0,s.I)().setTransactionState,q=(0,l.useCallback)(e=>{P({statusName:"error",statusData:{error:"Error building mint transaction",code:"NmNBc01",message:e}}),L(e)},[P]),Q=(0,l.useCallback)(async()=>{if(D&&j&&E&&M)try{U([]),L(null),W("buildingTransaction");let e=await E({takerAddress:j,contractAddress:N,tokenId:k,network:C,quantity:O});U(e)}catch(e){q(e)}else U([])},[j,E,N,q,M,D,C,O,W,k]);(0,l.useEffect)(()=>{Q()},[Q]);let H=(0,l.useCallback)(e=>{W(e.statusName),"transactionPending"===e.statusName&&P({statusName:"transactionPending"}),("transactionLegacyExecuted"===e.statusName||"success"===e.statusName||"error"===e.statusName)&&P(e)},[P,W]),$=(0,l.useMemo)(()=>!1===M||B?"Minting not available":0===F.length?(0,d.jsx)(a.y,{}):t,[F,M,t,B]);return E?j?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(m.Z,{isSponsored:I,chainId:S,calls:F,onStatus:H,children:[(0,d.jsx)(y.v,{className:e,text:$,pendingOverride:x,successOverride:w,errorOverride:T,disabled:n||$!==t}),!B&&(0,d.jsx)(f.N,{}),(0,d.jsxs)(b.x,{children:[(0,d.jsx)(v.X,{}),(0,d.jsx)(h.z,{})]})]}),B&&(0,d.jsx)("div",{className:(0,o.cn)(o.Qq.label2,o.yW.foregroundMuted,"pb-2"),children:B})]}):(0,d.jsx)(p.U,{className:(0,o.cn)("w-full",e)}):null}},65035:(e,t,n)=>{n.d(t,{useConnectors:()=>l});var a=n(23750);let r=[];function i(e){let t=e.connectors;return(0,a.b)(r,t)?r:(r=t,t)}var s=n(12115),o=n(20411);function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,o.useConfig)(e);return(0,s.useSyncExternalStore)(e=>(function(e,t){let{onChange:n}=t;return e._internal.connectors.subscribe((e,t)=>{n(Object.values(e),t)})})(t,{onChange:e}),()=>i(t),()=>i(t))}},65719:(e,t,n)=>{n.d(t,{I:()=>d});var a=n(45026),r=n(28444),i=n(11118),s=n(12115),o=n(3063);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){var a,r,i;a=e,r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(r))in a?Object.defineProperty(a,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}let d=()=>{let e=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,s,o=[],l=!0,u=!1;try{i=(n=n.call(e)).next,!1;for(;!(l=(a=i.call(n)).done)&&(o.push(a.value),o.length!==t);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw r}}return o}}(e,2)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,s.useState)(null),2),t=e[0],n=e[1],l=(0,s.useRef)(!1),d=(0,s.useRef)(!1),p=(0,a.s)().sendAnalytics,m=(0,o.useAccount)().address,y=(0,i.b_)(),f=y.contractAddress,b=y.tokenId,v=y.quantity,h=y.isSponsored,g=(0,s.useMemo)(()=>b&&m?{address:m,contractAddress:f,tokenId:b,quantity:v,isSponsored:h??!1}:null,[m,f,b,v,h]);return(0,s.useEffect)(()=>{g&&("buildingTransaction"===t&&(l.current=!1,d.current=!1,p(r.BT.MintInitiated,g)),"success"!==t||l.current||(l.current=!0,p(r.BT.MintSuccess,u(u({},g),{},{amountMinted:v}))),"error"!==t||d.current||(d.current=!0,p(r.BT.MintFailure,{error:"Transaction failed",metadata:g})))},[t,v,g,p]),{setTransactionState:n,handleQuantityChange:e=>{p(r.BT.MintQuantityChanged,{quantity:e})}}}},65876:(e,t,n)=>{n.d(t,{d:()=>r,z:()=>a});let a=function(e){return e.Image="image",e.Video="video",e.Audio="audio",e.Unknown="unknown",e}({}),r=function(e){return e.VIEW="view",e.MINT="mint",e}({})},72008:(e,t,n)=>{n.d(t,{V:()=>b});var a=n(41069),r=n(11118),i=n(65876),s=n(12115),o=n(24675),l=n(95155);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function c({className:e,onLoading:t,onLoaded:n,onError:a}){var i;let c=(0,r.b_)().animationUrl,d=(0,s.useRef)(null),p=function(e){if(Array.isArray(e))return e}(i=(0,s.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,s,o=[],l=!0,u=!1;try{i=(n=n.call(e)).next,!1;for(;!(l=(a=i.call(n)).done)&&(o.push(a.value),o.length!==t);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw r}}return o}}(i,2)||function(e,t){if(e){if("string"==typeof e)return u(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(i,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),m=p[0],y=p[1];(0,s.useEffect)(()=>{c&&d?.current&&(d.current.onloadstart=()=>{t?.(c)},d.current.onloadeddata=()=>{n?.()},d.current.addEventListener("ended",function(){y(!1)}),d.current.onerror=e=>{a?.({error:"string"==typeof e?e:e.type,code:"NmNAc01",message:"Error loading audio"})})},[c,t,n,a]);let f=(0,s.useCallback)(e=>{e.stopPropagation(),m?(d.current?.pause(),y(!1)):(d.current?.play(),y(!0))},[m]);return c?(0,l.jsxs)("div",{className:(0,o.cn)("max-h-350 w-350 max-w-350",e),children:[(0,l.jsx)("button",{type:"button",className:(0,o.cn)(o.Tp.reverse,"ml-6 inline-flex h-[42px] w-[42px] cursor-pointer items-center justify-center rounded-full"),onClick:f,children:(0,l.jsx)("div",{className:(0,o.cn)("ml-px box-border h-[18px] transition-all ease-[100ms] will-change-[border-width]","border-transparent border-l-[var(--ock-bg-default)] hover:border-l-[var(--ock-bg-default-hover)]",{"border-[length:0_0_0_16px] border-double":m,"-mr-px border-[length:9px_0_9px_16px] border-solid":!m})})}),(0,l.jsx)("audio",{ref:d,"data-testid":"ockNFTAudio",autoPlay:!1,controls:!1,src:c,children:(0,l.jsx)("track",{kind:"captions"})})]}):null}let d=(0,l.jsxs)("svg",{"data-testid":"ock-defaultNFTSvg",role:"img","aria-label":"loading",width:"100%",height:"100%",viewBox:"0 0 527.008 525",xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("rect",{fill:"#F3F4F6",width:"100%",height:"100%",className:o.GS.alternate}),(0,l.jsx)("path",{d:"M232.062 258.667C232.062 268.125 236.209 276.614 242.783 282.417H284.675C291.249 276.614 295.396 268.125 295.396 258.667C295.396 241.178 281.218 227 263.729 227C246.24 227 232.062 241.178 232.062 258.667ZM265.697 253.74L276.646 257.792L265.697 261.843L261.646 272.792L257.594 261.843L246.646 257.792L257.594 253.74L261.646 242.792L265.697 253.74ZM274.146 237.792L276.172 243.266L281.646 245.292L276.172 247.317L274.146 252.792L272.12 247.317L266.646 245.292L272.12 243.266L274.146 237.792Z",fill:"#6B7280",className:o.GS.defaultReverse}),(0,l.jsx)("path",{d:"M287.479 288.25H240.813L234.979 297H293.312L287.479 288.25Z",fill:"#6B7280",className:o.GS.defaultReverse})]});function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,s,o=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(a=i.call(n)).done)&&(o.push(a.value),o.length!==t);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw r}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function y({className:e,square:t=!0,onLoading:n,onLoaded:a,onError:i}){let u=(0,r.b_)(),c=u.imageUrl,m=u.description,y=p((0,s.useState)(!1),2),f=y[0],b=y[1],v=p((0,s.useState)(!1),2),h=v[0],g=v[1],x=(0,s.useCallback)(()=>{if(c){n?.(c);let e=new Image;e.onload=()=>{b(!0),a?.()},e.onerror=e=>{i?.({error:"string"==typeof e?e:e.type,code:"NmNIc01",message:"Error loading image"}),g(!0)},e.src=c}},[c,n,a,i]);(0,s.useEffect)(()=>{x()},[x]);let w=(0,s.useCallback)(async e=>{e.stopPropagation(),g(!1),x()},[x]);return(0,l.jsxs)("div",{className:(0,o.cn)("grid aspect-square w-full","[&>*]:col-start-1 [&>*]:col-end-1 [&>*]:row-start-1 [&>*]:row-end-1",e),children:[(0,l.jsx)("div",{className:"flex items-center justify-center",children:d}),(0,l.jsx)("div",{className:(0,o.cn)("grid h-full w-full content-center justify-center overflow-hidden",{"aspect-square":t}),children:(0,l.jsx)("img",{"data-testid":"ockNFTImage",src:c,alt:m,decoding:"async",className:(0,o.cn)("transition-opacity duration-500 ease-in-out",f?"opacity-100":"opacity-0",{"h-full w-full object-cover":t})})}),h&&(0,l.jsx)("div",{className:"flex items-center justify-center",children:(0,l.jsx)("button",{type:"button",onClick:w,className:"z-10 mt-[60%]",children:"retry"})})]})}function f({className:e,square:t=!0,onLoading:n,onLoaded:a,onError:i}){let u=(0,r.b_)(),c=u.animationUrl,p=u.imageUrl,m=(0,s.useRef)(null);return((0,s.useEffect)(()=>{c&&m?.current&&(m.current.onloadstart=()=>{n?.(c)},m.current.onloadeddata=()=>{a?.()},m.current.onerror=e=>{i?.({error:"string"==typeof e?e:e.type,code:"NmNVc01",message:"Error loading video"})})},[c,n,a,i]),c)?(0,l.jsx)("div",{className:(0,o.cn)("grid aspect-square w-full","[&>*]:col-start-1 [&>*]:col-end-1 [&>*]:row-start-1 [&>*]:row-end-1",{"content-center justify-center":!t},e),children:(0,l.jsx)("video",{ref:m,"data-testid":"ockNFTVideo",className:(0,o.cn)({"h-full w-full object-cover":t}),poster:p,controls:!0,loop:!0,src:c,muted:!0,autoPlay:!0,playsInline:!0,draggable:!1,width:"100%"})}):(0,l.jsx)("div",{className:"max-h-350 w-350 max-w-350",children:d})}function b({className:e,square:t}){let n=(0,r.b_)().mimeType,u=(0,a.Fx)(),d=u.type,p=u.updateLifecycleStatus,m=(0,s.useMemo)(()=>n?.startsWith("video")?i.z.Video:n?.startsWith("audio")||n?.startsWith("application")?i.z.Audio:n?.startsWith("image")?i.z.Image:i.z.Unknown,[n]),b=(0,s.useCallback)(e=>{p({statusName:"mediaLoading",statusData:{mediaType:m,mediaUrl:e}})},[m,p]),v=(0,s.useCallback)(()=>{p({statusName:d===i.d.MINT?"mediaLoaded":"success"})},[d,p]),h=(0,s.useCallback)(e=>{p({statusName:"error",statusData:e})},[p]),g=(0,s.useMemo)(()=>{switch(m){case i.z.Video:return(0,l.jsx)(f,{square:t,onLoading:b,onLoaded:v,onError:h});case i.z.Audio:return(0,l.jsxs)("div",{className:"relative w-full",children:[(0,l.jsx)(y,{square:t}),(0,l.jsx)("div",{className:"absolute bottom-4 mx-auto w-full",children:(0,l.jsx)(c,{})})]});default:return(0,l.jsx)(y,{square:t,onLoading:b,onLoaded:v,onError:h})}},[h,v,b,m,t]);return(0,l.jsx)("div",{className:(0,o.cn)("pb-2",e),children:g})}},73018:(e,t,n)=>{n.d(t,{useConnect:()=>p});var a=n(13657),r=n(96440),i=n(47536),s=n(94244),o=n(82396);async function l(e,t){let n;if((n="function"==typeof t.connector?e._internal.connectors.setup(t.connector):t.connector).uid===e.state.current)throw new o.nM;try{e.setState(e=>({...e,status:"connecting"})),n.emitter.emit("message",{type:"connecting"});let{connector:a,...r}=t,i=await n.connect(r),s=i.accounts;return n.emitter.off("connect",e._internal.events.connect),n.emitter.on("change",e._internal.events.change),n.emitter.on("disconnect",e._internal.events.disconnect),await e.storage?.setItem("recentConnectorId",n.id),e.setState(e=>({...e,connections:new Map(e.connections).set(n.uid,{accounts:s,chainId:i.chainId,connector:n}),current:n.uid,status:"connected"})),{accounts:s,chainId:i.chainId}}catch(t){throw e.setState(e=>({...e,status:e.current?"connected":"disconnected"})),t}}var u=n(12115),c=n(20411),d=n(65035);function p(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{mutation:t}=e,n=(0,c.useConfig)(e),o={mutationFn:e=>l(n,e),mutationKey:["connect"]},p=(0,s.useMutation)((0,a._)({},t,o)),{mutate:m,mutateAsync:y}=p,f=(0,i._)(p,["mutate","mutateAsync"]);return(0,u.useEffect)(()=>n.subscribe(e=>{let{status:t}=e;return t},(e,t)=>{"connected"===t&&"disconnected"===e&&f.reset()}),[n,f.reset]),(0,r._)((0,a._)({},f),{connect:m,connectAsync:y,connectors:(0,d.useConnectors)({config:n})})}},75373:(e,t,n)=>{n.d(t,{_z:()=>a._});var a=n(67920);n(60120),n(11408),n(95155),n(31820),n(63643),n(99702),n(23308),n(76654),n(26147),n(32696)},76606:(e,t,n)=>{n.d(t,{V:()=>a.V}),n(55349);var a=n(72008);n(11118),n(12115),n(24675),n(95155);n(54937),n(53012),n(20562)},85696:(e,t,n)=>{n.d(t,{u2:()=>i.u,HW:()=>s.H,x$:()=>a.x,TK:()=>r.T}),n(30421);var a=n(58223);n(48673),n(11118),n(24675),n(8927),n(95155),n(5990),n(90822),n(34909);var r=n(43758),i=n(93587);n(12435),n(12115);var s=n(92191)},92191:(e,t,n)=>{n.d(t,{H:()=>s});var a=n(24675),r=n(11118),i=n(95155);function s({className:e}){let t=(0,r.b_)().name;return t?(0,i.jsx)("div",{className:(0,a.cn)(a.Qq.title1,"overflow-hidden text-ellipsis",e),children:t}):null}},93587:(e,t,n)=>{function a(...e){if(1===e.length)return e[0];let t=e.reduce((e,t)=>{let n=t.toString(),a=(n.split(".")[1]||"").length,r=Number(n.replace(".",""));return{result:e.result*r,decimalPlaces:e.decimalPlaces+a}},{result:1,decimalPlaces:0}),n=t.result,r=t.decimalPlaces;return n/10**r}n.d(t,{u:()=>u});var r=n(11118),i=n(24675),s=n(78039),o=n(2673),l=n(95155);function u({className:e}){let t=(0,r.b_)(),n=t.price,u=t.quantity;return n?.amount!==void 0&&n.currency&&void 0!==n.amountUSD?0===Number(n?.amount)?(0,l.jsx)("div",{className:(0,i.cn)(i.Qq.body,"flex py-1",e),children:"Free"}):(0,l.jsxs)("div",{className:(0,i.cn)(i.Qq.body,"flex py-1",e),children:[(0,l.jsxs)("div",{className:i.Qq.headline,children:[(0,s.e)(`${a(Number(n.amount),u)}`)," ",n.currency]}),(0,l.jsx)("div",{className:"px-2",children:"~"}),(0,l.jsxs)("div",{children:["$",(0,o.e)(`${a(Number(n.amountUSD),u)}`,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}):null}},95342:(e,t,n)=>{n.d(t,{N:()=>s});var a=n(24675),r=n(13887),i=n(95155);function s({className:e}){let t=(0,r.Fn)(),n=t.errorMessage,s=t.lifecycleStatus,o=t.paymasterUrl,l=t.receipt,u=t.transactionHash,c=t.transactionId;return"init"!==s.statusName||!o||n||c||u||l?null:(0,i.jsx)("div",{className:(0,a.cn)(a.Qq.label2,"flex",e),children:(0,i.jsx)("p",{className:a.yW.foregroundMuted,children:"Zero transaction fee"})})}},98744:(e,t,n)=>{n.d(t,{useConnections:()=>l});var a=n(23750);let r=[];function i(e){let t=[...e.state.connections.values()];return"reconnecting"===e.state.status||(0,a.b)(r,t)?r:(r=t,t)}var s=n(12115),o=n(20411);function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,o.useConfig)(e);return(0,s.useSyncExternalStore)(e=>(function(e,t){let{onChange:n}=t;return e.subscribe(()=>i(e),n,{equalityFn:a.b})})(t,{onChange:e}),()=>i(t),()=>i(t))}}}]);